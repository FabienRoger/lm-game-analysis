["Ap", "ache", " Ign", "ite", " offers", " an", " abstraction", " over", " native", " Spark", " R", "DD", "s", " such", " that", " the", " state", " of", " R", "DD", "s", " can", " be", " shared", " across", " spark", " jobs", ",", " workers", " and", " applications", " which", " is", " not", " possible", " with", " native", " Spark", " RD", "DS", ".", " In", " this", " blog", ",", " we", " will", " walk", " through", " the", " steps", " on", " how", " to", " share", " R", "DD", "s", " between", " two", " spark", " Application", ".", "\n", "\n", "Prep", "aring", " Ingredients", "\n", "\n", "To", " test", " the", " Apache", " Ign", "ite", " with", " Apache", " Spark", " application", " we", " need", " at", " least", " one", " master", " process", " and", " a", " worker", " node", ".", " Download", " Apache", " Spark", " pre", "-", "built", " binary", " and", " Apache", " Ign", "ite", " and", " put", " at", " the", " same", " location", " on", " all", " nodes", ".", " Let", " us", " call", " these", " directories", " SP", "ARK", "_", "HOME", " and", " IGN", "ITE", "_", "HOME", " respectively", ".", "\n", "\n", "I", " am", " assuming", " you", " are", " aware", " with", " the", " basics", " of", " setting", " up", " a", " spark", " cluster", ".", " If", " not", ",", " you", " can", " go", " through", " spark", " documentation", ".", "\n", "\n", "Start", " Master", " Node", "\n", "\n", "Switch", " to", " SP", "ARK", "_", "HOME", " on", " master", " node", " and", " run", ":", "\n\n", "\n", "\n", "As", " soon", " as", " you", " hit", " the", " command", ",", " the", " shell", " will", " give", " a", " logging", " file", " info", " saying", " \ufffd", "\ufffd", "starting", " org", ".", "apache", ".", "sp", "ark", ".", "de", "ploy", ".", "master", ".", "Master", ",", " logging", " to", " \u2026", " [", "log", "ging", "_", "d", "ire", "].", " You", " can", " get", " the", " master", " URL", " in", " the", " form", " [", "sp", "ark", "://", "master", "_", "host", ":", "master", "_", "port", "]", " from", " the", " log", " file", ".", " I", " got", " it", " in", " the", " log", " file", " as", ":", "\n\n", "\n", "\n", "Start", " Workers", "\n", "\n", "Switch", " to", " directory", " SP", "ARK", "_", "HOME", " on", " worker", " node", " and", " run", " the", " below", " command", ":", "\n\n", "\n", "\n", "You", " can", " notice", ",", " the", " master", " URL", " is", " provided", " while", " starting", " the", " worker", ".", " Once", " it", " is", " registered", " with", " the", " master", ",", " you", " will", " get", " notification", " as", ":", "\n\n", "\n", "\n", "Start", " Ign", "ite", "\n", "\n", "On", " each", " of", " the", " worker", " switch", " to", " the", " directory", " IGN", "ITE", "_", "HOME", " and", " start", " an", " Ign", "ite", " node", " by", " running", " the", " following", " command", ":", "\n\n", "\n", "\n", "This", " will", " start", " Ign", "ite", " node", " on", " the", " worker", ".", "\n", "\n", "Creating", " Sample", " Spark", " Application", "\n", "\n", "Now", " we", " will", " package", " and", " submit", " two", " spark", " applications", ",", " namely", ":", " RD", "DP", "rodu", "cer", " and", " R", "DD", "Consumer", " on", " the", " master", ".", " The", " application", " RD", "DP", "rodu", "cer", " saves", " a", " pair", " R", "DD", " into", " Ign", "ite", " node", ".", " Here", " is", " a", " glimpse", " of", " code", " of", " these", " two", " applications", ":", "\n", "\n", "import", " org", ".", "apache", ".", "ign", "ite", ".", "sp", "ark", ".", "Ign", "ite", "Context", " import", " org", ".", "apache", ".", "ign", "ite", ".", "config", "uration", "._", " import", " org", ".", "apache", ".", "sp", "ark", ".", "{", "Sp", "ark", "Conf", ",", " Spark", "Context", "}", " object", " RD", "DP", "rodu", "cer", " extends", " App", " {", " val", " conf", " =", " new", " Spark", "Conf", "().", "set", "App", "Name", "(\"", "Sp", "ark", "Ign", "ite", "\")", " val", " sc", " =", " new", " Spark", "Context", "(", "conf", ")", " val", " ic", " =", " new", " Ign", "ite", "Context", "[", "Int", ",", " Int", "](", "sc", ",", " ()", " =>", " new", " Ign", "ite", "Configuration", "())", " val", " shared", "R", "DD", ":", " Ign", "ite", "R", "DD", "[", "Int", ",", "Int", "]", " =", " ic", ".", "from", "Cache", "(\"", "part", "ition", "ed", "\")", " shared", "R", "DD", ".", "save", "P", "airs", "(", "sc", ".", "par", "allel", "ize", "(", "1", " to", " 100", "000", ",", " 10", ").", "map", "(", "i", " =>", " (", "i", ",", " i", ")))", " }", " object", " R", "DD", "Consumer", " extends", " App", " {", " val", " conf", " =", " new", " Spark", "Conf", "().", "set", "App", "Name", "(\"", "Sp", "ark", "Ign", "ite", "\")", " val", " sc", " =", " new", " Spark", "Context", "(", "conf", ")", " val", " ic", " =", " new", " Ign", "ite", "Context", "[", "Int", ",", " Int", "](", "sc", ",", " ()", " =>", " new", " Ign", "ite", "Configuration", "())", " val", " shared", "R", "DD", " =", " ic", ".", "from", "Cache", "(\"", "part", "ition", "ed", "\")", " val", " less", "Th", "an", "Ten", " =", " shared", "R", "DD", ".", "filter", "(_", "._", "2", " <", " 10", ")", " println", "(\"", "The", " count", " is", "::::::::", "::::", " \"+", "less", "Th", "an", "Ten", ".", "count", "())", " }", "\n", "\n", "Sh", "aring", " R", "DD", " from", " Spark", " Application", "\n", "\n", "Let", " us", " go", " through", " the", " application", " one", " by", " one", ".", " Ign", "ite", "Context", " is", " the", " main", " entry", " point", " for", " Spark", "-", "Ign", "ite", " integration", ".", " Here", " application", " RD", "DP", "rodu", "cer", " creates", " an", " Ign", "ite", "Con", "et", "xt", "[", "Int", ",", "Int", "]", " by", " supplying", " Spark", " configuration", " and", " a", " closure", " to", " instant", "iate", " default", " Ign", "ite", "Configuration", ".", " After", " successfully", " created", " Ign", "ite", "Configuration", ",", " Ign", "ite", "R", "DD", " is", " created", " by", " invoking", " method", " from", "Cache", "(", "\ufffd", "\ufffd", "part", "ition", "ed", "\ufffd", "\ufffd", ")", " on", " Ign", "ite", "Configuration", " (", "\ufffd", "\ufffd", "part", "ition", "ed", "\ufffd", "\ufffd", " is", " the", " name", " of", " the", " Ign", "ite", " Cache", ").", " Here", " Ign", "ite", "R", "DD", " is", " live", " view", " of", " Ign", "ite", " cache", " holding", " the", " R", "DD", ".", " Ign", "ite", "R", "DD", " has", " all", " the", " methods", " that", " R", "DD", " supports", ".", "\n", "\n", "The", " following", " line", " saves", " the", " spark", " R", "DD", " into", " Ign", "ite", "Cache", ".", "\n", "\n", "shared", "R", "DD", ".", "save", "P", "airs", "(", "sc", ".", "par", "allel", "ize", "(", "1", " to", " 100", "000", ",", " 10", ").", "map", "(", "i", " =>", " (", "i", ",", " i", ")))", "\n", "\n", "Ret", "rieving", " R", "DD", " from", " another", " Spark", " Application", "\n", "\n", "The", " application", " R", "DD", "Consumer", " have", " all", " the", " configuration", " and", " steps", " as", " application", " RD", "DP", "rodu", "cer", " except", " it", " never", " saves", " an", " R", "DD", " to", " an", " Ign", "ite", " Cache", ".", " Its", " been", " done", " already", " by", " previous", " application", ".", " It", " simply", " retrie", "ves", " the", " R", "DD", "s", " cached", " from", " Ign", "ite", " cache", " by", "\n", "\n", "val", " shared", "R", "DD", " =", " ic", ".", "from", "Cache", "(\"", "part", "ition", "ed", "\")", "\n", "\n", "and", " apply", " a", " transformation", " filter", " for", " pairs", " having", " values", " less", " than", " ten", " and", " count", " those", " values", " up", " and", " prints", " it", ".", "\n", "\n", "Deploy", "ing", " Applications", ".", "\n", "\n", "I", " am", " assuming", " you", "\ufffd", "\ufffd", "ve", " packaged", " the", " applications", " into", " a", " jar", ",", " ready", " to", " be", " submitted", " to", " the", " cluster", ".", " The", " instruction", " for", " packaging", " Spark", " application", " into", " a", " single", " jar", " can", " be", " found", " here", ".", " The", " application", " source", " can", " be", " found", " at", ":", " Github", ".", " Switch", " to", " SP", "ARK", "_", "HOME", " and", " run", " following", " command", " to", " submit", " these", " applications", " on", " the", " cluster", ":", "\n", "\n", "./", "bin", "/", "sp", "ark", "-", "submit", " --", "class", " \"", "com", ".", "kn", "old", "us", ".", "RD", "DP", "rodu", "cer", "\"", " --", "master", " spark", "://", "192", ".", "168", ".", "2", ".", "181", ":", "70", "77", " \"/", "home", "/", "kn", "old", "us", "/", "Project", "s", "/", "Sp", "ark", " Lab", "/", "sp", "ark", "-", "ign", "ite", "/", "target", "/", "sc", "ala", "-", "2", ".", "11", "/", "sp", "ark", "_", "ign", "ite", "-", "assembly", "-", "1", ".", "0", ".", "jar", "\"", "./", "bin", "/", "sp", "ark", "-", "submit", " --", "class", " \"", "com", ".", "kn", "old", "us", ".", "R", "DD", "Consumer", "\"", " --", "master", " spark", "://", "192", ".", "168", ".", "2", ".", "181", ":", "70", "77", " \"/", "home", "/", "kn", "old", "us", "/", "Project", "s", "/", "Sp", "ark", " Lab", "/", "sp", "ark", "-", "ign", "ite", "/", "target", "/", "sc", "ala", "-", "2", ".", "11", "/", "sp", "ark", "_", "ign", "ite", "-", "assembly", "-", "1", ".", "0", ".", "jar", "\"", "\n", "\n", "We", " will", " deploy", " these", " applications", " one", " by", " one", " by", " changing", " the", " \u2013", "class", " argument", ".", " Here", " first", " app", " RD", "DP", "rodu", "cer", " will", " cache", " the", " Pair", "R", "DD", " into", " Ign", "ite", " cache", " and", " when", " we", " deploy", " second", " application", ",", " The", " output", " will", " be", " like", ":", "\n\n", "\n", "\n", "It", " is", " obvious", " from", " the", " result", " that", " we", " were", " able", " to", " retrieve", " the", " R", "DD", " back", " in", " another", " application", " from", " the", " Ign", "ite", " cache", ".", "\n", "\n", "For", " Code", " example", ",", " checkout", " :", " GitHub", "\n", "\n", "References", ":", "\n", "\n", "Ap", "ache", " Ign", "ite", " Documentation"]