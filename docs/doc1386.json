["During", " my", " day", " job", " I", "\ufffd", "\ufffd", "ve", " been", " working", " on", " re", "-", "fact", "oring", " some", " the", " intern", "als", " of", " Ju", "ju", " to", " reverse", " the", " trend", " of", " a", " growing", " number", " of", " dependencies", " in", " our", " core", " packages", ".", "\n", "\n", "In", " this", " post", " I", "\ufffd", "\ufffd", "ll", " show", " how", " I", " used", " go", " list", " to", " help", " me", " in", " this", " task", ".", "\n", "\n", "The", " basics", "\n", "\n", "Let", "\ufffd", "\ufffd", "s", " start", " with", " the", " basics", " of", " go", " list", ".", " The", " default", " invocation", " of", " go", " list", " returns", " the", " name", " of", " the", " import", " path", " that", " represents", " the", " directory", " you", " are", " currently", " in", ",", " or", " the", " package", " path", " you", " provide", ".", "\n", "\n", "%", " cd", " $", "GOP", "ATH", "/", "src", "/", "code", ".", "google", ".", "com", "/", "p", "/", "go", ".", "crypt", "o", "/", "ssh", " %", " go", " list", " code", ".", "google", ".", "com", "/", "p", "/", "go", ".", "crypt", "o", "/", "ssh", " %", " go", " list", " github", ".", "com", "/", "ju", "ju", "/", "ju", "ju", " github", ".", "com", "/", "ju", "ju", "/", "ju", "ju", "\n", "\n", "By", " itself", " this", " doesn", "\ufffd", "\ufffd", "t", " appear", " to", " be", " particularly", " notable", ",", " however", " this", " simple", " example", " bel", "ies", " the", " power", " of", " go", " list", ".", "\n", "\n", "The", " secret", " of", " the", " -", "f", " flag", "\n", "\n", "T", "ucked", " away", " at", " the", " top", " of", " the", " documentation", " for", " go", " help", " list", " is", " this", " short", " piece", "\n", "\n", "The", " -", "f", " flag", " specifies", " an", " alternate", " format", " for", " the", " list", ",", " using", " the", " syntax", " of", " package", " template", ".", " The", " default", " output", " is", " equivalent", " to", " -", "f", " '", "{{", ".", "Import", "Path", "}}", "'", ".", "\n", "\n", "Put", " simply", ",", " -", "f", " allows", " you", " to", " execute", " a", " Go", " template", " which", " has", " access", " to", " the", " internal", " data", " structures", " of", " the", " go", " tool", ",", " same", " structures", " that", " are", " used", " when", " build", " ing", ",", " test", " ing", " or", " get", " t", "ing", " code", ".", "\n", "\n", "This", " example", ",", " using", " -", "f", " '", "{{", ".", "Import", "Path", " }}", "',", " is", " equivalent", " to", " the", " previous", " invocation", " and", " gives", " us", " a", " glimpse", " into", " the", " power", " of", " go", " list", "\n", "\n", "%", " go", " list", " -", "f", " '", "{{", ".", "Import", "Path", " }}", "'", " github", ".", "com", "/", "ju", "ju", "/", "ju", "ju", " github", ".", "com", "/", "ju", "ju", "/", "ju", "ju", "\n", "\n", "Going", " a", " step", " further", " with", " go", " list", "\n", "\n", "The", " god", "oc", " for", " cmd", "/", "go", " lists", " the", " structures", " available", " to", " -", "f", ",", " so", " I", " won", "\ufffd", "\ufffd", "t", " repeat", " them", " ver", "bat", "im", ".", " Instead", " I", "\ufffd", "\ufffd", "ll", " highlight", " some", " uses", " of", " go", " list", ".", "\n", "\n", "List", "ing", " the", " test", " files", " that", " will", " be", " built", "\n", "\n", "%", " go", " list", " -", "f", " '", "{{", ".", "Test", "Go", "Files", " }}", "'", " archive", "/", "tar", " [", "reader", "_", "test", ".", "go", " tar", "_", "test", ".", "go", " writer", "_", "test", ".", "go", "]", "\n", "\n", "Or", " the", " external", " test", " files", " of", " that", " package", "\n", "\n", "%", " go", " list", " -", "f", " '", "{{", ".", "X", "Test", "Go", "Files", " }}", "'", " archive", "/", "tar", " [", "example", "_", "test", ".", "go", "]", "\n", "\n", "Or", " a", " summary", " for", " a", " set", " of", " packages", "\n", "\n", "%", " go", " list", " -", "f", " '", "{{", ".", "Name", "}}", ":", " {{", ".", "Doc", "}}", "'", " code", ".", "google", ".", "com", "/", "p", "/", "go", ".", "net", "/", "ip", "v", "{", "4", ",", "6", "}", " ip", "v", "4", ":", " Package", " ip", "v", "4", " implements", " IP", "-", "level", " socket", " options", " for", " the", " Internet", " Protocol", " version", " 4", ".", " ip", "v", "6", ":", " Package", " ip", "v", "6", " implements", " IP", "-", "level", " socket", " options", " for", " the", " Internet", " Protocol", " version", " 6", ".", "\n", "\n", "Cond", "itional", " builds", " and", " build", " tags", "\n", "\n", "A", " important", " part", " of", " writing", " Go", " programs", " is", " dealing", " with", " port", "ability", " issues", " across", " various", " operating", " systems", " or", " processors", ".", " I", "\ufffd", "\ufffd", "ve", " written", " about", " conditional", " builds", " before", ",", " so", " I", "\ufffd", "\ufffd", "ll", " just", " show", " an", " example", " listing", " the", " files", " that", " will", " be", " compiled", " on", " various", " platforms", "\n", "\n", "%", " env", " GO", "OS", "=", "dar", "win", " go", " list", " -", "f", " '", "{{", ".", "Go", "Files", " }}", "'", " github", ".", "com", "/", "pkg", "/", "term", " [", "term", ".", "go", " term", "_", "bs", "d", ".", "go", "]", " %", " env", " GO", "OS", "=", "linux", " go", " list", " -", "f", " '", "{{", ".", "Go", "Files", " }}", "'", " github", ".", "com", "/", "pkg", "/", "term", " [", "term", ".", "go", " term", "_", "linux", ".", "go", "]", "\n", "\n", "Who", " depends", " on", " what", "?", "\n", "\n", "go", " list", " can", " show", " both", " the", " packages", " that", " your", " package", " directly", " depends", ",", " or", " its", " complete", " set", " of", " trans", "itive", " dependencies", ".", "\n", "\n", "%", " go", " list", " -", "f", " '", "{{", ".", "Im", "ports", " }}", "'", " github", ".", "com", "/", "d", "ave", "che", "ney", "/", "profile", " [", "io", "/", "i", "out", "il", " log", " os", " os", "/", "sign", "al", " path", "/", "file", "path", " runtime", " runtime", "/", "pp", "ro", "f", "]", " %", " go", " list", " -", "f", " '", "{{", ".", "Dep", "s", " }}", "'", " github", ".", "com", "/", "d", "ave", "che", "ney", "/", "profile", " [", "buf", "io", " bytes", " errors", " fmt", " io", " io", "/", "i", "out", "il", " log", " math", " os", " os", "/", "sign", "al", " path", "/", "file", "path", " reflect", " runtime", " runtime", "/", "pp", "ro", "f", " sort", " str", "conv", " strings", " sync", " sync", "/", "atomic", " sy", "sc", "all", " text", "/", "tab", "writer", " time", " unic", "ode", " unic", "ode", "/", "utf", "8", " unsafe", "]", "\n", "\n", "The", " first", " command", " lists", " only", " the", " packages", " that", " github", ".", "com", "/", "d", "ave", "che", "ney", "/", "profile", " depends", " on", " directly", ".", " This", " is", " the", " unique", " set", " of", " import", " statements", " in", " all", " Go", " files", ",", " adjusted", " for", " build", " constraints", ".", " The", " second", " command", " returns", " the", " set", " of", " direct", " and", " trans", "itive", " dependency", " of", " github", ".", "com", "/", "d", "ave", "che", "ney", "/", "profile", ".", "\n", "\n", "F", "ancy", " tem", "pl", "ating", "\n", "\n", "The", " set", " of", " data", " structures", " available", " to", " the", " go", " list", " template", " is", " quite", " special", "ised", ",", " but", " don", "\ufffd", "\ufffd", "t", " forget", " we", " have", " the", " whole", " power", " of", " the", " Go", " template", " package", " at", " our", " disposal", ".", "\n", "\n", "In", " the", " previous", " examples", " dealing", " with", " slices", " of", " values", ",", " the", " default", " output", " format", " follows", " the", " fmt", " package", ".", " However", " it", " is", " probably", " more", " convenient", " for", " scripting", " applications", " to", " have", " one", " entry", " per", " line", ",", " which", " we", " can", " do", " easily", " as", " the", " go", " list", " template", " contains", " a", " function", " called", " join", " which", " delegates", " to", " strings", ".", "Join", ".", "\n", "\n", "%", " go", " list", " -", "f", " '", "{{", " join", ".", "Im", "ports", " \"", "\n", "\n", "\"", " }}", "'", " github", ".", "com", "/", "d", "ave", "che", "ney", "/", "profile", " io", "/", "i", "out", "il", " log", " os", " os", "/", "sign", "al", " path", "/", "file", "path", " runtime", " runtime", "/", "pp", "ro", "f", "\n", "\n", "Putting", " it", " together", "\n", "\n", "With", " the", " task", " of", " trying", " to", " unp", "ick", " the", " forest", " of", " dependencies", " in", " our", " core", " packages", ",", " I", " can", " use", " go", " list", " to", " define", " a", " helper", " like", "\n", "\n", "dep", "s", "()", " {", " go", " list", " -", "f", " '", "{{", " join", ".", "Dep", "s", " \"", "\n", "\n", "\"", "}}", "'", ".", " |", " grep", " ju", "ju", " }", "\n", "\n", "The", " usage", " is", " as", " simple", " as", " navigating", " to", " a", " particular", " package", " in", " my", " $", "GOP", "ATH", " and", " checking", " to", " see", " its", " complete", " dependency", " list", "\n", "\n", "%", " de", "ps", " github", ".", "com", "/", "ju", "ju", "/", "cmd", " github", ".", "com", "/", "ju", "ju", "/", "err", "go", " github", ".", "com", "/", "ju", "ju", "/", "errors", " github", ".", "com", "/", "ju", "ju", "/", "go", "json", "pointer", " github", ".", "com", "/", "ju", "ju", "/", "go", "json", "reference", " github", ".", "com", "/", "ju", "ju", "/", "go", "js", "ons", "che", "ma", " github", ".", "com", "/", "ju", "ju", "/", "ju", "ju", "/", "api", "/", "agent", "...", " //", " many", " more", " lines", " el", "ided", "\n", "\n", "Conclusion", "\n", "\n", "This", " short", " post", " has", " barely", " scratched", " the", " surface", " of", " the", " flexibility", " that", " go", " list", " provides", "."]