["\n", "\n", "By", " now", " you", " may", " have", " heard", " of", " this", " new", " phenomenon", ",", " micro", "services", ".", " If", " you", "\ufffd", "\ufffd", "re", " not", " yet", " familiar", " and", " interested", " in", " learning", " more", ",", " checkout", " our", " introductory", " post", " here", ".", "\n", "\n", "In", " this", " blog", " post", " we", "\ufffd", "\ufffd", "re", " going", " to", " discuss", " Micro", ",", " an", " open", " source", " micro", "services", " tool", "kit", ".", " Micro", " provides", " the", " core", " requirements", " for", " building", " and", " managing", " micro", "services", ".", " It", " consists", " of", " a", " set", " of", " libraries", " and", " tools", " which", " are", " primarily", " geared", " towards", " development", " in", " the", " programming", " language", " Go", ",", " however", " looks", " to", " solve", " for", " other", " languages", " via", " HTTP", " using", " a", " Side", "car", ".", "\n", "\n", "Before", " we", " get", " to", " the", " details", " of", " Micro", ",", " let", "\ufffd", "\ufffd", "s", " talk", " about", " why", " we", " decided", " to", " dedicate", " our", " time", " to", " it", ".", "\n", "\n", "Development", " or", " Deploy", "ment", "\n", "\n", "It", "\ufffd", "\ufffd", "s", " clear", " from", " our", " past", " experiences", " and", " what", " we", "\ufffd", "\ufffd", "re", " seeing", " in", " the", " industry", " that", " there", "\ufffd", "\ufffd", "s", " a", " need", " for", " a", " focus", " on", " development", " rather", " than", " deployment", ".", " P", "aa", "S", " solutions", " are", " readily", " available", ".", " Companies", " like", " AWS", ",", " Google", " and", " Microsoft", " are", " providing", " feature", " rich", " platforms", " while", " also", " rapidly", " moving", " towards", " supporting", " container", " orche", "stration", " if", " not", " already", " doing", " so", ".", " All", " of", " this", " gives", " us", " access", " to", " large", " scale", " compute", " with", " the", " click", " of", " a", " few", " buttons", ".", "\n", "\n", "This", " new", " world", " sounds", " great", ".", " You", " might", " say", " this", " solves", " all", " your", " problems", ",", " right", "?", " Well", ",", " while", " we", " now", " have", " access", " to", " massive", " scale", " computing", " power", ",", " we", "\ufffd", "\ufffd", "re", " still", " lacking", " the", " tools", " that", " enable", " us", " to", " write", " software", " that", "\ufffd", "\ufffd", "s", " capable", " of", " leveraging", " it", ".", " Not", " only", " that", ",", " in", " this", " new", " world", ",", " containers", " are", " likely", " more", " ep", "hemer", "al", ",", " coming", " and", " going", " as", " the", " runtime", " res", "ched", "ules", " them", " or", " machines", " they", "\ufffd", "\ufffd", "re", " running", " on", " fail", ".", "\n", "\n", "Sc", "aling", " challenges", "\n", "\n", "The", " other", " issue", " we", "\ufffd", "\ufffd", "ve", " seen", " time", " and", " time", " again", " is", " the", " way", " in", " which", " organisations", " fall", " victim", " to", " their", " mon", "olithic", " architectures", ".", " With", " a", " need", " to", " grow", " at", " a", " blister", "ing", " pace", ",", " there", "\ufffd", "\ufffd", "s", " the", " tendency", " to", " cram", " features", " into", " the", " existing", " system", " and", " incur", " technical", " debt", " which", " snow", "balls", " into", " an", " unman", "age", "able", " situation", ".", " Aside", " from", " this", ",", " as", " the", " organisation", " attempts", " to", " grow", " the", " engineering", " team", ",", " it", " becomes", " infinitely", " more", " difficult", " for", " developers", " to", " collaborate", " on", " a", " single", " code", " base", " or", " do", " feature", " development", " in", " parallel", " without", " being", " blocked", " at", " time", " of", " release", ".", "\n", "\n", "There", "\ufffd", "\ufffd", "s", " an", " inevitable", " need", " to", " re", "arch", "itect", " and", " an", " eventual", " path", " to", " SO", "A", " or", " micro", "service", " based", " architectures", ".", " Companies", " end", " up", " taking", " on", " an", " R", "&", "D", " effort", " in", " house", ",", " learning", " by", " trial", " and", " error", ".", " If", " only", " there", " were", " tools", " to", " help", " create", " scalable", " systems", ",", " reduce", " the", " likely", " hood", " of", " R", "&", "D", " and", " provide", " domain", " expertise", " from", " those", " with", " past", " experience", ".", "\n", "\n", "Enter", " Micro", "\n", "\n", "At", " Micro", " we", "\ufffd", "\ufffd", "re", " building", " a", " micro", "service", " ecosystem", " that", " includes", " tools", ",", " services", " and", " solutions", " for", " micro", "service", " development", ".", " We", "\ufffd", "\ufffd", "re", " building", " the", " foundation", " of", " that", " ecosystem", " with", " a", " tool", " by", " the", " same", " name", ".", " Micro", " is", " a", " micro", "service", " tool", "kit", ",", " which", " will", " enable", " the", " creation", " of", " a", " scalable", " architectures", " and", " increase", " speed", " of", " execution", ".", "\n", "\n", "Let", "\ufffd", "\ufffd", "s", " dig", " into", " the", " features", " of", " Micro", ".", "\n", "\n", "Go", " Micro", "\n", "\n", "Go", " Micro", " is", " a", " plug", "g", "able", " RPC", " framework", " used", " to", " build", " micro", "services", " in", " Go", ".", " It", " delivers", " the", " essential", " features", " required", " to", " create", ",", " discover", " and", " communicate", " with", " services", ".", " The", " core", " of", " any", " good", " micro", "service", " architecture", " begins", " by", " addressing", " service", " discovery", ",", " synchron", "ous", " and", " asynchronous", " communication", ".", "\n", "\n", "In", "cluded", " packages", " and", " features", ":", "\n", "\n", "Reg", "istry", " -", " Client", " side", " service", " discovery", "\n", "\n", "Trans", "port", " -", " Syn", "chron", "ous", " communication", "\n", "\n", "Bro", "ker", " -", " As", "ynchronous", " com", "un", "ication", "\n", "\n", "Select", "or", " -", " Node", " filtering", " and", " load", " balancing", "\n", "\n", "Cod", "ec", " -", " Message", " encoding", "/", "dec", "oding", "\n", "\n", "Server", " -", " RPC", " server", " building", " on", " the", " above", "\n", "\n", "Client", " -", " RPC", " client", " building", " on", " the", " above", "\n", "\n", "Where", " Go", " Micro", " differs", " from", " most", " libraries", " is", " it", "\ufffd", "\ufffd", "s", " plug", "g", "able", " architecture", ".", " This", " allows", " the", " implementation", " and", " backend", " system", " for", " every", " package", " to", " be", " swapped", " out", ".", " For", " example", ";", " the", " default", " service", " discovery", " mechanism", " for", " the", " registry", " is", " Cons", "ul", " but", " this", " can", " easily", " be", " swapped", " with", " a", " plugin", " for", " etc", "d", ",", " zo", "oke", "eper", " or", " anything", " else", " you", " choose", " to", " implement", ".", " Plug", "ins", " we", "\ufffd", "\ufffd", "re", " implementing", " can", " be", " found", " at", " github", ".", "com", "/", "micro", "/", "go", "-", "plugins", ".", "\n", "\n", "The", " value", " in", " a", " plug", "g", "able", " system", " is", " the", " ability", " to", " choose", " the", " platform", " used", " to", " support", " your", " micro", "services", " without", " having", " to", " rewrite", " any", " code", ".", " Go", " Micro", " requires", " zero", " code", " changes", ",", " just", " a", " mere", " import", " of", " a", " plugin", " and", " you", "\ufffd", "\ufffd", "re", " done", ".", "\n", "\n", "Go", " Micro", " is", " the", " starting", " point", " for", " writing", " micro", "services", ".", " The", " read", "me", " provides", " an", " overview", " of", " how", " to", " write", ",", " run", " and", " query", " a", " service", ".", " There", "\ufffd", "\ufffd", "s", " a", " gre", "eter", " example", " here", " micro", "/", "ex", "amples", "/", "gre", "eter", " and", " more", " example", " services", " throughout", " the", " repo", " github", ".", "com", "/", "micro", ".", "\n", "\n", "go", " micro", "\n", "\n", "Side", "car", "\n", "\n", "So", " Go", " Micro", " provides", " a", " way", " to", " write", " services", " in", " Go", " but", " how", " about", " other", " languages", "?", " How", " do", " we", " create", " a", " poly", "got", " ecosystem", " where", " anyone", " can", " leverage", " the", " advantages", " of", " Micro", "?", " While", " Micro", " is", " written", " in", " Go", ",", " we", " wanted", " to", " allow", " a", " quick", "y", " and", " easy", " way", " to", " integrate", " applications", " written", " in", " any", " language", ".", "\n", "\n", "Enter", " the", " Side", "car", ",", " a", " lightweight", " companion", " service", " which", " is", " concept", "ually", " \ufffd", "\ufffd", "att", "ached", "\ufffd", "\ufffd", " to", " the", " main", " (", "aka", " Parent", ")", " application", " and", " comple", "ments", " it", " by", " providing", " the", " features", " of", " the", " Micro", " system", " that", " are", " otherwise", " available", " using", " the", " Go", " Micro", " library", ".", " The", " side", "car", " is", " a", " process", " that", " runs", " alongside", " your", " application", ",", " delivering", " the", " features", " of", " Go", " Micro", " via", " a", " HTTP", " interface", ".", "\n", "\n", "Features", " of", " the", " side", "car", ":", "\n", "\n", "Registration", " with", " discovery", " system", "\n", "\n", "Host", " discovery", " of", " other", " services", "\n", "\n", "Health", "checking", " of", " the", " main", " application", "\n", "\n", "A", " proxy", " to", " make", " RPC", " requests", "\n", "\n", "Pub", "Sub", " via", " Web", "S", "ockets", "\n", "\n", "Examples", " of", " using", " the", " Side", "car", " with", " ruby", " or", " python", " can", " be", " found", " here", " micro", "/", "ex", "amples", "/", "gre", "eter", ".", " We", "\ufffd", "\ufffd", "ll", " look", " to", " add", " more", " sample", " code", " in", " the", " near", " future", " to", " help", " with", " understanding", " how", " to", " integrate", " the", " side", "car", ".", "\n", "\n", "side", "car", "\n", "\n", "API", "\n", "\n", "Making", " RPC", " requests", " from", " one", " service", " to", " another", " is", " pretty", " straight", " forward", " with", " Go", " Micro", " but", " not", " ideal", " for", " external", " access", ".", " Inst", "ances", " of", " a", " service", " can", " fail", ",", " they", " may", " be", " res", "ched", "uled", " elsewhere", " or", " end", " up", " binding", " to", " any", " random", " port", ".", " The", " API", " provides", " a", " single", " entry", " point", " to", " query", " micro", "services", " and", " should", " be", " used", " as", " the", " gateway", " for", " external", " access", ".", "\n", "\n", "The", " API", " provides", " a", " few", " different", " types", " of", " request", " handlers", ".", "\n", "\n", "1", ".", " /", "r", "pc", "\n", "\n", "Individual", " services", " can", " be", " quer", "ied", " via", " RPC", " using", " the", " /", "r", "pc", " endpoint", ".", " Example", ":", "\n", "\n", "c", "url", " \\", " -", "d", " \"", "service", "=", "go", ".", "micro", ".", "sr", "v", ".", "gre", "eter", "\"", " \\", " -", "d", " \"", "method", "=", "Say", ".", "Hello", "\"", " \\", " -", "d", " \"", "request", "={", "\\\"", "name", "\\\":", " \\\"", "John", "\\\"", "}\"", " \\", " http", "://", "localhost", ":", "80", "80", "/", "r", "pc", " {\"", "msg", "\":\"", "Hello", " John", "\"}", "\n", "\n", "2", ".", " api", ".", "Request", "\n", "\n", "The", " API", " can", " be", " used", " to", " breakdown", " URLs", " to", " be", " served", " by", " individual", " micro", "services", ".", " This", " is", " a", " powerful", " method", " of", " API", " composition", ".", " Here", " the", " API", " uses", " the", " first", " part", " of", " the", " request", " path", " along", " with", " a", " namespace", " component", " to", " determine", " the", " service", " to", " route", " requests", " to", ".", " HTTP", " requests", " are", " then", " converted", " to", " an", " api", ".", "Request", " and", " forwarded", " appropriately", ".", "\n", "\n", "At", " Micro", " we", " use", " a", " pattern", " of", " creating", " API", " micro", "services", " to", " serve", " requests", " at", " the", " edge", ".", " Sep", "ar", "ating", " the", " responsibility", " of", " backend", " versus", " front", "end", " services", ".", "\n", "\n", "An", " example", " of", " API", " request", " handling", ":", "\n", "\n", "Request", "\n", "\n", "GET", " /", "gre", "eter", "/", "say", "/", "hello", "?", "name", "=", "John", "\n", "\n", "Bec", "omes", "\n", "\n", "service", ":", " go", ".", "micro", ".", "api", ".", "gre", "eter", " (", "default", " namespace", " go", ".", "micro", ".", "api", " is", " applied", ")", " method", ":", " Say", ".", "Hello", " request", " {", " \"", "method", "\":", " \"", "GET", "\",", " \"", "path", "\":", " \"/", "gre", "eter", "/", "say", "/", "hello", "\",", " \"", "get", "\":", " {", " \"", "name", "\":", " \"", "John", "\"", " }", " }", "\n", "\n", "The", " structure", " of", " an", " api", ".", "Request", " and", " api", ".", "Response", ":", "\n", "\n", "sy", "ntax", " =", " \"", "pro", "to", "3", "\";", " message", " Pair", " {", " optional", " string", " key", " =", " 1", ";", " repeated", " string", " values", " =", " 2", ";", " }", " message", " Request", " {", " optional", " string", " method", " =", " 1", ";", " //", " GET", ",", " POST", ",", " etc", " optional", " string", " path", " =", " 2", ";", " //", " e", ".", "g", " /", "gre", "eter", "/", "say", "/", "hello", " map", "<", "string", ",", " Pair", ">", " header", " =", " 3", ";", " map", "<", "string", ",", " Pair", ">", " get", " =", " 4", ";", " //", " The", " URI", " query", " params", " map", "<", "string", ",", " Pair", ">", " post", " =", " 5", ";", " //", " The", " post", " body", " params", " optional", " string", " body", " =", " 6", ";", " //", " raw", " request", " body", ";", " if", " not", " application", "/", "x", "-", "www", "-", "form", "-", "url", "enc", "oded", " }", " message", " Response", " {", " optional", " int", "32", " status", "Code", " =", " 1", ";", " map", "<", "string", ",", " Pair", ">", " header", " =", " 2", ";", " optional", " string", " body", " =", " 3", ";", " }", "\n", "\n", "An", " example", " of", " how", " to", " create", " an", " API", " service", " can", " be", " found", " here", ".", " Gre", "eter", " API", "\n", "\n", "3", ".", " proxy", "\n", "\n", "The", " final", " method", " of", " request", " handling", " for", " the", " API", " is", " a", " reverse", " proxy", ".", " Just", " as", " above", ",", " the", " API", " uses", " the", " request", " path", " and", " a", " namespace", " component", " to", " determine", " the", " service", " to", " route", " requests", " to", ".", " By", " providing", " reverse", " prox", "ying", " and", " micro", "service", " request", " routing", " we", "\ufffd", "\ufffd", "re", " able", " to", " support", " REST", ",", " a", " widely", " sought", " after", " requirement", ".", "\n", "\n", "The", " proxy", " can", " be", " enabling", " by", " passing", " the", " --", "api", "_", "handler", "=", "proxy", " flag", ".", "\n", "\n", "An", " example", " of", " how", " to", " build", " a", " REST", "ful", " API", " can", " be", " found", " here", " micro", "/", "ex", "amples", "/", "gre", "eter", "/", "api", ".", "\n", "\n", "api", "\n", "\n", "Web", " UI", "\n", "\n", "The", " web", " UI", " provides", " a", " simple", " dashboard", " for", " observing", " and", " interacting", " with", " a", " running", " system", ".", " Not", " only", " that", " but", " it", " also", " provides", " a", " reverse", " proxy", " much", " like", " the", " API", ".", " Our", " goal", " with", " a", " \ufffd", "\ufffd", "web", " proxy", "\ufffd", "\ufffd", " is", " to", " enable", " the", " development", " of", " web", " apps", " as", " micro", "services", ".", " Again", ",", " just", " like", " the", " API", ",", " the", " request", " path", " is", " used", " along", " with", " a", " namespace", " to", " determine", " the", " service", " to", " route", " requests", " to", ".", " The", " web", " proxy", " also", " supports", " web", " sockets", " as", " we", " see", " real", "time", " being", " a", " core", " part", " of", " delivering", " web", " apps", ".", "\n", "\n", "web", "\n", "\n", "CL", "I", "\n", "\n", "The", " CLI", " is", " a", " command", " line", " tool", " which", " provides", " a", " way", " to", " observe", ",", " interact", " and", " manage", " services", " in", " a", " running", " environment", ".", " The", " current", " feature", " set", " allows", " you", " to", " inspect", " the", " registry", ",", " check", " basic", " health", " of", " services", " and", " execute", " queries", " against", " services", " themselves", ".", "\n", "\n", "The", " other", " nifty", " feature", ",", " is", " the", " ability", " to", " use", " the", " Side", "car", " as", " a", " proxy", " for", " the", " CLI", ".", " It", "\ufffd", "\ufffd", "s", " as", " simple", " as", " specifying", " the", " address", " for", " the", " side", "car", " as", " a", " flag", " --", "proxy", "_", "address", "=", "example", ".", "proxy", ".", "com", " when", " executing", " the", " CLI", ".", "\n", "\n", "cli", "\n", "\n", "Putting", " it", " all", " together", "\n", "\n", "We", "\ufffd", "\ufffd", "ve", " written", " an", " example", " of", " full", " end", "-", "to", "-", "end", " flow", " through", " the", " system", " using", " a", " simple", " gre", "eter", " service", ".", "\n", "\n", "The", " flow", " is", " as", " follows", ":", "\n", "\n", "HTTP", " GET", " request", " is", " made", " to", " the", " micro", " API", " at", " path", " /", "gre", "eter", "/", "say", "/", "hello", " with", " the", " query", " name", "=", "John", ".", " The", " API", " translates", " this", " using", " the", " default", " namespace", " to", " the", " api", " service", " go", ".", "micro", ".", "api", ".", "gre", "eter", " and", " method", " Say", ".", "Hello", ".", " The", " request", " is", " structured", " as", " an", " api", ".", "Request", ".", " The", " API", " using", " Go", " Micro", ",", " queries", " the", " registry", " to", " find", " all", " the", " nodes", " for", " the", " service", " go", ".", "micro", ".", "api", ".", "gre", "eter", " and", " forwards", " the", " request", " to", " one", " of", " the", " nodes", ".", " The", " gre", "eter", " api", " pars", "es", " the", " request", ",", " generates", " a", " hello", ".", "Request", " and", " makes", " a", " request", " to", " the", " r", "pc", " service", " go", ".", "micro", ".", "sr", "v", ".", "gre", "eter", ".", " Again", " the", " same", " registry", "/", "d", "iscovery", " mechanism", " is", " used", " to", " find", " the", " nodes", " for", " the", " service", ".", " The", " gre", "eter", " r", "pc", " service", " responds", " with", " a", " hello", ".", "Response", ".", " The", " gre", "eter", " api", " translates", " the", " response", " into", " a", " api", ".", "Response", " and", " passes", " it", " back", " to", " the", " API", ".", " The", " micro", " API", " pars", "es", " the", " response", " and", " responds", " to", " the", " client", "\ufffd", "\ufffd", "s", " HTTP", " request", ".", "\n", "\n", "In", " a", " more", " complex", " example", ",", " an", " API", " service", " may", " call", " out", " to", " many", " other", " RPC", " services", ",", " aggregate", " and", " transform", " the", " data", " and", " then", " pass", " back", " a", " final", " summar", "ised", " result", " to", " the", " client", ".", " This", " allows", " you", " to", " maintain", " a", " consistent", " external", " entry", " point", " and", " change", " services", " in", " the", " background", " without", " the", " knowledge", " of", " the", " client", ".", "\n", "\n", "gre", "eter", " service", "\n", "\n", "Dem", "o", "\n", "\n", "If", " you", " want", " to", " kick", " the", " tyres", " on", " a", " running", " system", ",", " checkout", " our", " demo", " at", " web", ".", "micro", ".", "pm", ".", "\n", "\n", "We", "\ufffd", "\ufffd", "re", " running", " Micro", " On", " Ku", "ber", "net", "es", " using", " Google", " Container", " Engine", ".", " The", " demo", " is", " open", " source", " if", " you", " want", " to", " run", " it", " yourself", ".", " You", " can", " find", " the", " k", "8", "s", " config", " here", " github", ".", "com", "/", "micro", "/", "k", "uber", "net", "es", ".", "\n", "\n", "Summary", "\n", "\n", "Micro", " provides", " the", " fundamental", " building", " blocks", " for", " writing", " and", " managing", " micro", "services", ".", " Go", " Micro", " includes", " the", " core", " requirements", ";", " discovery", ",", " client", "/", "server", " and", " pub", "/", "sub", ".", " The", " CLI", " let", "\ufffd", "\ufffd", "s", " you", " interact", " with", " your", " environment", " and", " services", ".", " The", " side", "car", " enables", " integration", " of", " any", " non", " Micro", " application", ".", " The", " API", " is", " a", " single", " entry", " point", " for", " r", "pc", " requests", " and", " enables", " the", " creation", " of", " REST", " end", "points", ".", " With", " plug", "g", "able", " interfaces", " you", " can", " pick", " and", " choose", " the", " systems", " you", " want", " to", " leverage", " in", " building", " your", " architecture", ".", "\n", "\n", "Our", " goal", " at", " Micro", " is", " to", " enable", " development", " at", " scale", ",", " increase", " speed", " of", " execution", " and", " provide", " value", " starting", " from", " the", " very", " beginning", " of", " the", " developer", " lif", "ecycle", ".", " We", " feel", " Micro", " is", " the", " best", " way", " to", " do", " all", " those", " things", ".", " Over", " time", " the", " ecosystem", " of", " tools", " will", " grow", " to", " include", " more", " feature", " rich", " services", " for", " discovery", ",", " routing", " and", " ob", "vers", "ability", ".", "\n", "\n", "If", " you", " want", " to", " learn", " more", " about", " the", " services", " we", " offer", " or", " micro", "services", ",", " checkout", " the", " website", " micro", ".", "mu", " or", " the", " github", " repo", ".", "\n", "\n", "Follow", " us", " on", " Twitter", " at", " @", "Micro", "HQ", " or", " join", " the", " Slack", " community", " here", "."]