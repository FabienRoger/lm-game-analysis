["Mini", "y", "acc", "\n", "\n", "A", " Light", "weight", " Y", "acc", " for", " C", "\n", "\n", "This", " single", "-", "file", " program", " implements", " a", " useful", " subset", " of", " POS", "IX", " y", "acc", ".", " It", " lets", " you", " describe", " a", " language", " with", " an", " unamb", "iguous", " L", "AL", "R", "(", "1", ")", " grammar", " and", " comp", "iles", " it", " into", " a", " fast", " C", " parser", " for", " that", " language", ".", " Because", " it", " is", " so", " simple", ",", " you", " can", " use", " it", " to", " learn", " about", " parser", " generation", ".", " You", " can", " also", " use", " it", " to", " quickly", " boot", "strap", " a", " y", "acc", " for", " another", " language", ".", " Finally", ",", " because", " it", " is", " standalone", " and", " under", " MIT", "/", "X", " license", ",", " you", " can", " integrate", " it", " very", " easily", " in", " your", " programs", ".", "\n", "\n", "Get", " a", " working", " version", " of", " y", "acc", ".", "c", ".", "\n", "\n", "Comp", "ilation", " is", " as", " simple", " as", " cc", " y", "acc", ".", "c", " -", "o", " y", "acc", ".", "\n", "\n", "Comp", "ilation", " is", " as", " simple", " as", ".", " Read", " the", " MIT", "/", "X", " license", ".", "\n", "\n", "You", " can", " browse", " the", " source", ".", "\n", "\n", "Or", " check", " it", " out", " at", " git", "://", "c", "9", "x", ".", "me", "/", "min", "iy", "acc", ".", "git", ".", "\n", "\n", "Example", "\n", "\n", "Here", " is", " a", " complete", " minimal", " example", " to", " get", " started", ".", " You", " can", " compile", " it", " using", " y", "acc", " x", "m", "pl", ".", "y", " &&", " cc", " y", ".", "tab", ".", "c", ".", " Then", " use", " the", " input", " \"", "2", "*", "(", "3", "+", "4", "*", "3", "+", "1", ")\"", " to", " test", " it", ",", " for", " example", ".", "\n", "\n", "%", "{", " #", "include", " <", "std", "io", ".", "h", ">", " int", " y", "yle", "x", "(", "void", ");", " %", "}", " %", "token", " INT", " %", "left", " '", "+", "'", " %", "left", " '", "*", "'", " %%", " prog", ":", " expr", " {", " printf", "(\"", "->", " %", "d", "\n", "\n", "\",", " $", "1", ");", " }", " ;", " expr", ":", " INT", " |", " '", "('", " expr", " '", ")'", " {", " $$", " =", " $", "2", ";", " }", " |", " expr", " '", "+", "'", " expr", " {", " $$", " =", " $", "1", " +", " $", "3", ";", " }", " |", " expr", " '", "*", "'", " expr", " {", " $$", " =", " $", "1", " *", " $", "3", ";", " }", " ;", " %%", " int", " y", "yle", "x", "()", " {", " /*", " crude", " lex", "er", " */", " int", " c", " =", " get", "char", "();", " if", " (", "c", " >=", " '", "0", "'", " &&", " c", " <=", " '", "9", "')", " {", " y", "yl", "val", " =", " c", "-'", "0", "';", " return", " INT", ";", " }", " return", " c", " ==", " E", "OF", "?", " 0", " :", " c", ";", " }", " int", " main", "()", " {", " return", " y", "y", "parse", "();", " }", "\n", "\n", "Features", "\n", "\n", "Short", " and", " hacker", "-", "friendly", " C", "89", " implementation", ".", "\n", "\n", "Most", "ly", " POS", "IX", " (-", "b", ",", " -", "d", ",", " and", " -", "v", " are", " supported", ").", "\n", "\n", "St", "andal", "one", " (", "the", " skeleton", " code", " is", " in", " the", " source", ").", "\n", "\n", "Gener", "ated", " tables", " are", " as", " efficient", " as", " GNU", " b", "ison", "'s", ".", "\n", "\n", "Reason", "ably", " fast", " implementation", " (<", "1", "s", " for", " 500", "+", " grammar", " rules", ").", "\n", "\n", "Supp", "orts", " #", "line", " directives", ".", "\n", "\n", "The", " two", " main", " features", " lacking", " to", " make", " it", " fully", " POS", "IX", " compliant", " are", " error", " recovery", " and", " mid", "-", "action", " rules", " (", "although", " these", " can", " be", " em", "ulated", " by", " adding", " a", " few", " extra", " non", "-", "termin", "als", " with", " an", " empty", " production", ").", " Negative", " references", " into", " the", " parsing", " stack", " are", " also", " unsupported", ".", "\n", "\n", "H", "acker", "'s", " Guide", "\n", "\n", "Y", "acc", " is", " a", " complex", " program", ",", " to", " understand", " it", " one", " must", " first", " understand", " the", " basics", " of", " shift", "-", "red", "uce", " pars", "ers", " and", " get", " a", " high", " level", " idea", " of", " how", " LR", " state", " generation", " goes", ".", " I", " cannot", " cover", " these", " topics", " here", " because", " I", " know", " I", " will", " make", " a", " poor", " job", " at", " it", ".", " The", " Dragon", " Book", " has", " excellent", " coverage", " for", " them", " and", " the", " first", " edition", " (", "which", " is", " more", " than", " enough", ")", " can", " be", " found", " for", " a", " couple", " of", " dollars", " on", " Amazon", " (", "I", " bought", " one", " there", " and", " I", "'m", " extremely", " happy", " with", " it", ").", " If", " you", " contact", " me", " in", " person", ",", " I", " can", " provide", " additional", " documentation", ".", " In", " the", " sequel", " I", " will", " assume", " that", " you", " are", " a", " bit", " familiar", " with", " the", " terminology", ".", "\n", "\n", "My", " implementation", " is", " divided", " into", " four", " parts", ",", " the", " first", " one", " deals", " with", " straightforward", " inference", " of", " properties", " on", " the", " grammar", " (", "is", " a", " non", "-", "termin", "al", " null", "able", ",", " what", " is", " its", " FIRST", " set", ");", " the", " second", " part", " implements", " the", " prim", "it", "ve", " operations", " G", "OTO", " and", " CL", "OS", "URE", " on", " sets", " of", " L", "AL", "R", "(", "1", ")", " items", " together", " with", " the", " state", " generation", ";", " the", " third", " part", " figures", " out", " the", " final", " parsing", " tables", " and", " comp", "resses", " them", ";", " finally", " the", " last", " part", " and", " also", " the", " simplest", " deals", " with", " all", " the", ".", "y", " parsing", " and", " the", ".", "c", "/.", "h", " printing", ".", "\n", "\n", "With", " loose", " discipline", ",", " I", " pref", "ixed", " most", " functions", " of", " the", " first", " three", " parts", " with", " respectively", ",", " g", ",", " i", " and", " t", "bl", ".", " Also", ",", " the", " order", " in", " which", " I", " listed", " the", " parts", " is", " the", " order", " in", " which", " you", " will", " find", " them", " in", " the", " source", ".", " This", " gives", " you", " a", " basic", " way", " to", " navigate", " the", " code", ".", " What", " follows", " is", " a", " high", " level", " description", " of", " every", " important", " function", " and", " type", ".", "\n", "\n", "Sym", " A", " symbol", ",", " if", " it", " is", " smaller", " than", " Max", "T", "k", " it", " is", " a", " token", ",", " otherwise", " it", " is", " a", " non", "-", "termin", "al", ".", " No", " real", " symbol", " can", " be", " the", " special", " symbol", " S", ",", " we", " use", " it", " to", " mark", " the", " end", " of", " a", " string", " of", " symbols", ".", " Rule", " A", " grammar", " rule", ",", " the", " l", "hs", " field", " is", " an", " array", " of", " symbols", " terminated", " by", " the", " special", " symbol", " S", ".", " The", " action", " field", " stores", " the", " semantic", " action", " given", " in", " the", ".", "y", " file", " for", " this", " rule", ".", " Item", " A", " L", "AL", "R", "(", "1", ")", " state", ",", " i", ".", "e", ".", " a", " set", " of", " Term", ".", " The", " set", " is", " stored", " in", " an", " array", " which", " is", " structured", " as", " follows", ".", " Elements", " of", " the", " core", " (", "which", " have", " their", " dot", " not", " at", " the", " very", " beginning", ")", " come", " first", ",", " and", " they", " are", " sorted", " according", " to", " the", " ic", "mp", " order", ".", " Then", " follows", " a", " bunch", " of", " items", " not", " in", " the", " core", ",", " they", " can", " be", " in", " any", " order", " but", " need", " to", " be", " grouped", " by", " l", "hs", ".", " Here", " is", " an", " example", " item", " E", " ->", " E", ".", " O", " E", " O", " ->", ".", " A", " A", " ->", ".", " '", "+", "'", " A", " ->", ".", " '", "-'", " r", "find", " Returns", " a", " pointer", " to", " the", " first", " Rule", " with", " a", " given", " left", "-", "hand", "-", "side", ".", " We", " use", " the", " fact", " that", " the", " rs", " array", " is", " sorted", " by", " l", "hs", ".", " first", " Comp", "utes", " the", " set", " F", " of", " initial", " tokens", " that", " can", " be", " generated", " by", " the", " given", " sentence", " terminated", " by", " with", " element", " of", " the", " last", " set", " and", " union", " the", " set", " passed", " as", " first", " argument", " with", " F", ".", " g", "init", " For", " every", " non", "-", "termin", "al", " N", ",", " it", " comp", "utes", " if", " N", " is", " null", "able", " or", " not", " and", " the", " set", " FIRST", "(", "N", ")", " and", " stores", " it", " in", " the", " is", " symbol", " information", " array", ".", " ic", "l", "ose", " Comp", "utes", " the", " closure", " of", " a", " L", "AL", "R", "(", "1", ")", " state", ".", " We", " basically", " follow", " the", " textbook", " procedure", ".", " Note", " that", " we", " make", " use", " of", " the", " fact", " that", " non", "-", "core", " items", " are", " grouped", " by", " l", "hs", " while", " filling", " and", " using", " the", " sm", "ap", " array", ".", " ig", "oto", " Comp", "utes", " the", " G", "OTO", " along", " a", " given", " symbol", " of", " a", " L", "AL", "R", "(", "1", ")", " state", ".", " ic", "mp", " Is", " non", "-", "t", "riv", "ial", " because", " it", " relies", " on", " the", " fact", " two", " elements", " can", " be", " compared", " by", " only", " comparing", " their", " core", ".", " You", " can", " see", " the", " Dragon", " Book", " to", " understand", " why", " (", "or", " just", " think", " about", " it", ").", " st", "add", " Is", " the", " main", " work", "horse", " of", " the", " state", " generation", " routine", ".", " It", " figures", " out", " if", " a", " state", " to", "-", "be", "-", "insert", "ed", " is", " already", " present", " in", " the", " state", " array", " (", "kept", " sorted", " using", " the", " ic", "mp", " order", ")", " and", " adds", " it", " if", " not", " present", ".", " An", " integer", " is", " returned", " to", " signal", " if", " a", " change", " occ", "ured", " in", " the", " state", " list", " or", " not", ".", " st", "gen", " The", " actual", " state", " generation", " function", ",", " here", " also", ",", " we", " follow", " the", " textbook", " procedure", ".", " We", " use", " the", " modified", " bit", " returned", " by", " st", "add", " to", " figure", " out", " if", " more", " work", " has", " to", " be", " done", " or", " not", ".", " There", " is", " a", " simple", " optimization", " that", " sticks", " a", " dirty", " bit", " to", " every", " state", " to", " know", " if", " it", " is", " necessary", " to", " recomp", "ute", " the", " GOT", "Os", " from", " this", " state", " or", " not", ".", " resolve", " Res", "olves", " shift", "/", "red", "uce", " conflicts", " using", " precedence", " and", " associ", "ativity", " of", " tokens", " and", " rules", ".", " The", " procedure", " implemented", " is", " described", " in", " details", " by", " POS", "IX", ".", " t", "bl", "set", " Comp", "ute", " the", " action", " generated", " by", " one", " Term", " in", " a", " L", "AL", "R", "(", "1", ")", " state", ",", " it", " can", " be", " a", " shift", " or", " a", " reduce", " depending", " on", " the", " position", " of", " the", " dot", ".", " This", " function", " figures", " out", " if", " the", " grammar", " has", " conflicts", " or", " not", ".", " set", "def", " Given", " a", " table", " row", ",", " this", " function", " figures", " out", " the", " most", " frequent", " entry", " and", " stores", " it", " as", " default", ".", " It", " is", " used", " to", " get", " a", " very", " sparse", " table", " (", "comp", "act", " to", " store", ").", " The", " rows", " it", " processes", " are", " rows", " from", " the", " action", " and", " goto", " tables", ".", " On", " an", " action", " row", ",", " it", " is", " very", " often", " (", "if", " not", " always", ")", " that", " there", " is", " only", " one", " reduce", " entry", ",", " we", " use", " it", " as", " default", ".", " The", " goto", " table", ",", " if", " stored", " with", " index", "ing", " [", "state", "][", "non", "term", "]", " always", " have", " entries", " that", " are", " all", " different", " (", "see", " Dragon", " Book", "),", " to", " make", " good", " use", " of", " the", " default", " table", " one", " must", " store", " it", " with", " index", "ing", " [", "non", "term", "][", "state", "].", " To", " convince", " yourself", " that", " it", " is", " a", " good", " idea", ",", " your", " can", " run", " y", "acc", ".", "c", " on", " a", " sample", " grammar", " with", " the", " -", "v", " option", " and", " check", " the", " y", ".", "output", " file", ".", " t", "bl", "gen", " Gener", "ate", " the", " action", " and", " goto", " tables", " and", " compute", " and", " store", " their", " most", " frequent", " entry", " per", " row", ".", " The", " index", "ing", " for", " the", " goto", " table", " is", " [", "non", "term", "][", "state", "],", " and", " for", " the", " action", " table", " it", " is", " [", "state", "][", "token", "].", " These", " different", " index", "ing", " schemes", " permit", " to", " have", " smaller", " tables", ".", " act", "gen", " The", " supper", "f", "icial", " logic", " is", " simple", ",", " but", " as", " a", " comment", " warns", ",", " there", " is", " a", " tricky", " invari", "ant", ".", " This", " invari", "ant", " has", " to", " deal", " with", " the", " way", " the", " check", " table", " is", " generated", ".", " I", " will", " give", " more", " details", " below", " on", " how", " the", " tables", " are", " stored", " and", " why", " we", " must", " be", " careful", " when", " generating", " them", ".", " t", "bl", "out", " D", "umps", " the", " tables", " using", " C", " syntax", ".", " next", "tk", " c", "py", "code", " get", "type", " get", "decl", "s", " get", "gram", " Vog", "on", " poetry", " for", " parsing", ".", " act", "out", " Output", " the", " code", " for", " one", " action", " and", " substitutes", " the", " $$", " and", " friends", " with", " regular", " C", " code", ".", " This", " is", " a", " little", " complex", " because", " we", " have", " to", " do", " what", " POS", "IX", " calls", " \"", "type", " inference", "\",", " that", " is", ",", " find", " out", " what", " is", " the", " union", " field", " to", " use", " for", " each", " of", " the", " non", "-", "termin", "als", " referenced", " in", " an", " action", ".", " code", "out", " code", "0", " code", "1", " Data", " and", " simple", " code", " to", " output", " the", " final", " C", " file", ".", " Originally", ",", " Y", "acc", " was", " using", " intermediate", " files", " for", " this", " generation", " (", "POS", "IX", " even", " mentions", " them", ").", " Considering", " how", " much", " memory", " today", "'s", " computer", " have", ",", " I", " did", " not", " bother", " with", " that", " and", " just", " stored", " everything", " in", " RAM", ".", "\n", "\n", "A", " Y", "acc", " program", " is", " expected", " to", " generate", " two", " main", " tables", ":", " the", " goto", " table", " and", " the", " action", " table", ".", " In", " practice", ",", " one", " needs", " to", " generate", " a", " few", " more", ".", " Here", " is", " a", " description", " of", " all", " the", " tables", " generated", " by", " the", " y", "acc", ".", "c", " program", ".", "\n", "\n", "yy", "tr", "ns", " POS", "IX", " requires", " that", " '", "c", "'", " for", " every", " c", " is", " a", " valid", " token", ",", " we", " use", " this", " table", " to", " map", " tokens", " given", " by", " y", "yle", "x", " to", " a", " smaller", " range", " (", "this", " makes", " the", " tables", " more", " compact", ").", " y", "yr", "1", " maps", " a", " rule", " number", " to", " the", " ar", "ity", " (", "number", " of", " elements", " in", " the", " l", "hs", ")", " of", " this", " rule", ".", " y", "yr", "2", " maps", " a", " rule", " number", " to", " the", " l", "hs", " symbol", " of", " this", " rule", ".", " y", "y", "ade", "f", " maps", " a", " state", " to", " the", " default", " reduce", " for", " this", " state", ",", " or", " -", "1", " if", " the", " state", " cannot", " reduce", ".", " y", "yg", "def", " maps", " a", " non", "-", "termin", "al", " to", " its", " most", " frequent", " G", "OTO", " destination", ".", " (", "Remember", " that", " the", " got", "os", " are", " indexed", " [", "non", "term", "][", "state", "]", ".)", " y", "y", "ad", "sp", " maps", " states", " to", " displ", "acements", " for", " actions", ".", " y", "y", "gd", "sp", " maps", " non", "-", "termin", "als", " to", " displ", "acements", " for", " got", "os", ".", " y", "y", "act", " contains", " actions", " and", " got", "os", ",", " this", " is", " the", " most", " important", " table", " together", " with", " the", " next", " one", ".", " y", "y", "ch", "k", " is", " the", " checking", " table", " for", " y", "y", "act", ".", "\n", "\n", "The", " scheme", " used", " to", " store", " tables", " in", " a", " space", "-", "efficient", " manner", " uses", " what", " we", " call", " a", " row", " displacement", " table", ".", " The", " idea", " is", " described", " very", " well", " in", " Robert", " Tar", "jan", "'s", " paper", " St", "oring", " a", " sparse", " table", ",", " it", " is", " also", " described", " in", " section", " 3", ".", "9", " of", " the", " Dragon", " Book", ".", " I", " will", " try", " to", " sum", " it", " up", " in", " a", " few", " words", ".", " Ass", "ume", " we", " want", " to", " store", " efficiently", " a", " table", " A", " with", " many", " z", "er", "oes", " inside", ",", " we", " also", " would", " like", " that", " the", " access", " in", " the", " compact", "ed", " table", " is", " in", " constant", " time", ".", " To", " do", " this", ",", " we", " linear", "ize", " the", " table", " A", " into", " a", " simple", " array", " and", " overlap", " the", " different", " rows", " of", " A", " to", " make", " sure", " very", " few", " z", "er", "oes", " are", " left", ".", " Each", " original", " row", " of", " A", " will", " be", " assigned", " a", " displacement", " into", " the", " linear", " array", ".", " The", " following", " figure", " shows", " an", " example", " of", " this", " packing", " process", " on", " a", " sample", " table", ",", " the", " r", "{", "n", "}", " number", " is", " the", " displacement", " of", " the", " original", " row", " n", ".", " Stars", " in", " the", " A", " table", " represent", " non", "-", "zero", " entries", ".", "\n", "\n", "The", " above", " figure", " does", " not", " show", " the", " table", " T", " that", " stores", " all", " the", " non", "-", "zero", " entries", ",", " instead", " it", " shows", " the", " checking", " table", " C", ".", " Using", " the", " displ", "acements", " r", "{", "n", "},", " it", " is", " easy", " to", " construct", " T", ".", " The", " table", " C", " is", " used", " for", " retrieval", " of", " data", ":", " to", " get", " the", " entry", " A", "[", "n", "][", "m", "]", " (", "if", " n", " and", " m", " are", " 1", "-", "index", "ed", ")", " we", " use", " the", " algorithm", " below", ".", "\n", "\n", "x", " :=", " r", "{", "n", "}", " +", " m", " if", " (", "x", " <=", " 0", ")", " ||", " (", "x", " >", " size", " of", " C", ")", " ||", " (", "C", "[", "x", "]", "!=", " (", "n", "-", "1", ")*", "5", " +", " m", "-", "1", ")", " then", " return", " 0", " else", " return", " T", "[", "x", "]", " fi", "\n", "\n", "Notice", " how", " the", " C", " table", " holds", " the", " cell", " number", " of", " the", " corresponding", " entry", " stored", " in", " the", " A", " table", ".", " It", " is", " also", " sufficient", " to", " make", " C", " store", " only", " the", " row", " number", " of", " the", " entry", " stored", " in", " A", ",", " this", " makes", " the", " numbers", " stored", " in", " C", " smaller", " and", " can", " help", " save", " a", " few", " bytes", ".", " This", " is", " what", " we", " do", " for", " the", " goto", " table", ":", " the", " checking", " table", " y", "y", "ch", "k", " stores", " only", " non", "-", "termin", "al", " numbers", " for", " validation", ".", " You", " can", " see", " how", " they", " are", " checked", " in", " code", "0", ",", " the", " skeleton", " code", " for", " C", " files", " generation", ".", "\n", "\n", "The", " case", " of", " the", " action", " table", " is", " a", " bit", " trick", "ier", ".", " One", " can", " easily", " observe", " that", " many", " rows", " in", " an", " action", " table", " are", " often", " identical", ",", " so", " we", " would", " like", " to", " assign", " these", " rows", " the", " same", " displacement", ".", " This", " is", " possible", " but", " what", " is", " stored", " in", " the", " checking", " table", " needs", " to", " be", " changed", ".", " Indeed", ",", " the", " whole", " point", " of", " the", " checking", " table", " is", " that", " no", " two", " entries", " of", " A", " can", " be", " validated", " at", " the", " same", " location", " in", " T", ".", " One", " way", " to", " make", " this", " compression", " possible", " is", " to", " store", " the", " column", " number", " in", " the", " checking", " table", " instead", " of", " the", " row", " number", ".", " This", " way", ",", " two", " same", " rows", " can", " be", " assigned", " the", " same", " displacement", " and", " will", " both", " be", " correctly", " validated", " by", " the", " checking", " table", ".", " This", " explains", " why", " the", " y", "y", "ch", "k", " table", " checks", " action", " entries", " based", " on", " token", " number", " (", "and", " not", " on", " state", " number", ").", "\n", "\n", "We", " can", " now", " discuss", " the", " way", " to", " find", " the", " displ", "acements", " r", "{", "n", "}", " used", " above", ".", " There", " is", " a", " fairly", " straightforward", " greedy", " algorithm", " that", " works", " well", " for", " that", " (", "it", " is", " explained", " in", " Tar", "jan", "'s", " paper", " why", ").", " We", " simply", " sort", " the", " rows", " by", " decreasing", " number", " of", " non", "-", "zero", " entries", " and", " greed", "ily", " assign", " the", " first", "-", "fit", " displ", "acements", " for", " all", " the", " rows", ".", " This", " explains", " why", " there", " are", " q", "sort", " calls", " in", " the", " act", "gen", " function", ".", " You", " can", " check", " that", " the", " displ", "acements", " for", " A", " above", " were", " generated", " with", " this", " technique", ".", " This", " is", " all", " nice", " and", " simple", ",", " but", " when", " we", " play", " the", " trick", " explained", " in", " the", " previous", " paragraph", " we", " have", " to", " be", " a", " bit", " careful", ".", " The", " risk", " is", " that", " a", " naive", " implementation", " of", " the", " algorithm", " described", " here", " could", " assign", " the", " same", " displacement", " to", " the", " two", " following", " rows", ".", "\n", "\n", "Col", "m", "ns", " 1", " 2", " 3", " 4", " 5", " 6", " 7", " 8", " 9", " -------", "+", "----------------", "---", "+", "...", " Row", " n", " |", " 0", " 0", " 3", " 0", " 4", " 0", " 0", " 0", " 6", " |", "...", " Row", " m", " |", " 0", " 0", " 3", " 0", " 0", " 0", " 0", " 0", " 6", " |", "\n", "\n", "Row", " m", " is", " \"", "in", "cluded", "\"", " in", " row", " n", ",", " a", " naive", " implementation", " could", " give", " them", " the", " same", " displacement", ",", " but", " then", ",", " when", " quer", "ying", " the", " entry", " [", "m", "][", "5", "],", " one", " would", " get", " 4", " as", " an", " answer", " (", "bec", "as", "ue", " the", " checking", " table", " would", " validate", " the", " column", " 5", " for", " row", " n", ")", " and", " not", " 0", "!", " This", " is", " a", " potential", " source", " of", " nasty", " bugs", ".", " The", " lesson", " is", " that", " rows", " must", " be", " assigned", " the", " same", " displacement", " if", " and", " only", " if", " they", " are", " exactly", " the", " same", ".", " The", " loop", " in", " act", "gen", " makes", " sure", " it", " is", " the", " case", " by", " relying", " on", " the", " fact", " that", " entries", " are", " supplied", " in", " decreasing", " number", " of", " non", "-", "zero", " entries", ".", " This", " is", " probably", " the", " trick", "iest", " part", " of", " table", " generation", " (", "and", " it", " is", " also", " a", " performance", " hog", "),", " I", " would", " be", " happy", " to", " take", " your", " suggestions", " about", " that", ".", "\n", "\n", "I", " want", " to", " conclude", " these", " remarks", " on", " table", " generation", "/", "comp", "ression", " by", " saying", " that", " if", " this", " remains", " opaque", " for", " you", ",", " the", " best", " we", " to", " understand", " it", " is", " to", " use", " a", " very", " small", " grammar", " (", "inf", "ix", " addition", " and", " multiplication", " for", " example", "),", " run", " it", " through", " y", "acc", ".", "c", " with", " the", " -", "v", " option", " and", " dec", "yp", "her", " the", " code", " generated", " using", " the", " y", ".", "output", " file", ",", " a", " pen", ",", " and", " some", " paper", ".", " You", " might", " even", " discover", " a", " bug", " that", " way", "!"]