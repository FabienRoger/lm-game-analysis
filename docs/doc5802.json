["Jet", "lag", " has", " me", " in", " its", " thro", "es", " which", " is", " as", " good", " an", " excuse", " as", " any", " to", " share", " what", " has", " been", " keeping", " me", " up", " many", " nights", " over", " the", " past", " couple", " of", " years", ";", " a", " theory", " of", " the", " web", " as", " a", " platform", ".", "\n", "\n", "I", " had", " a", " chance", " last", " week", " to", " share", " some", " of", " my", " thinking", " here", " to", " an", " unlikely", " audience", " at", " Eclipse", "Con", ",", " a", " wonderful", " experience", " for", " which", " my", " thanks", " go", " to", " Mike", " Mil", "ink", "ovich", " and", " Ian", " Sk", "er", "rett", " for", " being", " crazy", " enough", " to", " invite", " a", " \ufffd", "\ufffd", "web", " guy", "\ufffd", "\ufffd", " to", " give", " a", " talk", ".", "\n", "\n", "One", " of", " the", " points", " I", " tried", " (", "and", " perhaps", " failed", ")", " to", " make", " in", " the", " talk", " was", " that", " in", " every", " platform", " that", "\ufffd", "\ufffd", "s", " truly", " a", " platform", " it", "\ufffd", "\ufffd", "s", " important", " to", " have", " a", " stable", " conceptual", " model", " of", " what", "\ufffd", "\ufffd", "s", " \ufffd", "\ufffd", "down", " there", "\ufffd", "\ufffd", ".", " For", " Java", " that", "\ufffd", "\ufffd", "s", " not", " the", " language", ",", " it", "\ufffd", "\ufffd", "s", " the", " J", "VM", ".", " For", " the", " web", "\u2026", "well", "\u2026", "um", ".", " Yes", ",", " it", " bott", "oms", " out", " at", " C", "/", "C", "++", ",", " but", " that", "\ufffd", "\ufffd", "s", " mostly", " observable", " through", " sp", "ooky", " action", " at", " a", " distance", ".", " The", " expressive", " capacity", " of", " C", "/", "C", "++", " show", " up", " as", " limitations", " and", " mism", "atches", " in", " web", " specs", " all", " the", " time", ",", " but", " the", " essential", " semantics", " \u2014", " C", "/", "C", "++", " is", " just", " words", " in", " memory", " that", " you", " can", " do", " whatever", " you", " please", " with", " \u2014", " are", " safely", " hidden", " away", " behind", " APIs", " and", " decl", "ar", "ative", " forms", " that", " are", " unf", "ail", "ingly", " high", "-", "level", ".", " Until", " they", " aren", "\ufffd", "\ufffd", "t", ".", " And", " you", " can", " forget", " about", " composition", " most", " of", " the", " time", ".", "\n", "\n", "For", " a", " flavor", " of", " this", ",", " I", " always", " turn", " back", " to", " Joel", " Web", "ber", "\ufffd", "\ufffd", "s", " question", " to", " me", " several", " years", " ago", ":", " why", " can", "\ufffd", "\ufffd", "t", " I", " over", "-", "ride", " the", " rendering", " of", " a", " border", " around", " an", " HTML", " element", "?", "\n", "\n", "It", "\ufffd", "\ufffd", "s", " a", " fair", " question", " and", " one", " I", " wrote", " off", " too", " quickly", " the", " first", " time", " he", " posed", " it", ".", " We", " have", " <", "can", "vas", ">", " which", " lets", " us", " draw", " lines", " however", " we", " like", ",", " so", " why", " can", "\ufffd", "\ufffd", "t", " we", " override", " the", " path", " painting", " for", " borders", "?", " Why", " isn", "\ufffd", "\ufffd", "t", " it", " just", " a", " method", " you", " implement", " like", " in", " Flex", " or", " Silver", "light", "?", "\n", "\n", "Put", " another", " way", ":", " there", " are", " some", " low", " level", " APIs", " in", " the", " web", " that", " suggest", " that", " such", " power", " should", " be", " in", " the", " hands", " of", " us", " mortals", ".", " When", " using", " a", " low", "-", "level", " thing", ",", " you", " pay", "-", "as", "-", "you", "-", "go", " since", " lower", "-", "level", " things", " need", " more", " code", " (", "lat", "ency", " and", " complexity", ")", "\u2026", "but", " that", "\ufffd", "\ufffd", "s", " a", " choice", ".", " Today", "\ufffd", "\ufffd", "s", " web", " is", " often", " mysteriously", " devoid", " of", " the", " sort", " of", " sane", " lay", "ering", ",", " forcing", " you", " to", " re", "-", "build", " parallel", " systems", " to", " what", "\ufffd", "\ufffd", "s", " already", " in", " the", " browser", " to", " get", " a", " job", " done", ".", " You", " can", "\ufffd", "\ufffd", "t", " just", " subclass", " the", " right", " thing", " or", " plug", " into", " the", " right", " lif", "ecycle", " method", " most", " of", " the", " time", ".", " Want", " a", " <", "can", "vas", ">", "?", " Fine", ".", " There", " you", " go", ".", " Want", " a", " <", "span", ">", "?", " Hot", " <", "span", ">", " s", " coming", " up", "!", " But", " don", "\ufffd", "\ufffd", "t", " go", " getting", " any", " big", " ideas", " about", " using", " the", " drawing", " APIs", " from", " <", "can", "vas", ">", " to", " render", " your", " <", "span", ">", ".", " Both", " are", " magic", " in", " their", " own", " right", " and", " for", " no", " reason", " other", " than", " that", "\ufffd", "\ufffd", "s", " the", " way", " it", " has", " always", " been", ".", "\n", "\n", "The", " craz", "iest", " part", " in", " all", " of", " this", " is", " that", " JavaScript", " does", " exist", " in", " the", " web", " so", " you", " can", " strictly", " speaking", " do", " whatever", " you", " want", ".", " Good", "ness", " knows", " that", " when", " the", " platform", " fails", " us", " today", ",", " we", "\ufffd", "\ufffd", "re", " all", "-", "too", "-", "w", "illing", " to", " just", " throw", " JS", " at", " it", ".", " It", "\ufffd", "\ufffd", "s", " crazy", ",", " in", " this", " context", " then", ",", " that", " spec", " authors", " seem", " to", " be", " trying", " to", " uphold", " a", " golden", " principle", ":", " JavaScript", " doesn", "\ufffd", "\ufffd", "t", " exist", ".", " Writing", " it", " out", " of", " the", " story", " allows", " you", " to", " just", " claim", " that", " your", " bit", " of", " the", " system", " is", " magic", " and", " that", " it", " doesn", "\ufffd", "\ufffd", "t", " need", " an", " exposed", " lif", "ecycle", " and", " plug", "-", "in", " architecture", ".", " New", " things", " can", " just", " be", " bolted", " onto", " the", " magic", ",", " no", " lay", "ering", " required", ".", " It", "\ufffd", "\ufffd", "s", " magical", " turtles", " all", " the", " way", " down", ".", "\n", "\n", "You", " can", " see", " why", " people", " who", " think", " in", " terms", " of", " VM", "\ufffd", "\ufffd", "s", " and", " machine", " words", " might", " find", " this", " a", " bit", " a", "hem", " limiting", ".", "\n", "\n", "But", " how", " much", " should", " we", " \ufffd", "\ufffd", "web", " people", "\ufffd", "\ufffd", " care", " about", " what", " they", " think", "?", " After", " all", ",", " \ufffd", "\ufffd", "real", " programmers", "\ufffd", "\ufffd", " have", " been", " predicting", " the", " imminent", " death", " of", " this", " toy", " browser", " thing", " for", " so", " long", " that", " I", "\ufffd", "\ufffd", "m", " forgetting", " exactly", " when", " the", " hate", " took", " its", " various", " turns", " through", " the", " 7", " stages", ";", " \ufffd", "\ufffd", "App", "lets", " will", " save", " us", " from", " this", " insanity", "!", "\ufffd", "\ufffd", "\u2026", "\ufffd", "\ufffd", "A", "j", "ax", " is", " a", " hack", "\ufffd", "\ufffd", "\u2026", "\ufffd", "\ufffd", "just", " put", " a", " compiler", " in", " front", " of", " it", " and", " treat", " it", " as", " the", " dumb", "est", " assemb", "ler", " ever", "\ufffd", "\ufffd", " (", "which", " is", " at", " least", " acceptance", ",", " of", " a", " sort", ").", " The", " web", " continues", " to", " succeed", " in", " spite", " of", " all", " of", " of", " this", ".", " So", " why", " bother", " with", " the", " gn", "ashing", " of", " teeth", "?", "\n", "\n", "Thanks", " to", " Steve", " S", "oud", "ers", ",", " I", " have", " an", " answer", ":", " every", " year", " we", "\ufffd", "\ufffd", "re", " throwing", " more", " and", " more", " JS", " on", " top", " of", " the", " web", ",", " do", "oming", " our", " best", " intended", " semantic", " thoughts", " to", " suff", "ocation", " in", " the", " Turing", " tar", " pit", ".", " In", "ex", "or", "ably", ",", " and", " until", " we", " find", " a", " way", " to", " send", " less", " code", " down", " the", " wire", ",", " us", " is", " them", ",", " and", " more", " so", " every", " day", ".", "\n", "\n", "Let", " that", " picture", " sink", " in", ":", " at", " 180", "KB", " of", " JS", " on", " average", ",", " script", " isn", "\ufffd", "\ufffd", "t", " some", " helper", " that", " gives", " meaning", " to", " pages", " in", " the", " bree", "ch", ",", " it", " is", " the", " meaning", " of", " the", " page", ".", " Dress", " it", " up", " all", " you", " like", ",", " but", " that", "\ufffd", "\ufffd", "s", " where", " this", " is", " going", ".", "\n", "\n", "Don", "\ufffd", "\ufffd", "t", " think", " 180", "KB", " of", " JS", " is", " a", " lot", "?", " Remember", ",", " that", "\ufffd", "\ufffd", "s", " transfer", " size", " which", " accounts", " for", " g", "z", "ipping", ",", " not", " total", " JS", " size", ".", " Oy", ".", " And", " in", " most", " cases", " that", "\ufffd", "\ufffd", "s", " more", " than", " 3", "x", " the", " size", " of", " the", " HTML", " being", " served", " (", "both", " for", " the", " page", " and", " for", " whatever", " if", "ram", "es", " it", " embed", "s", ").", " And", " that", "\ufffd", "\ufffd", "s", " not", " all", ";", " it", "\ufffd", "\ufffd", "s", " worse", " for", " many", " sites", " which", " should", " know", " better", ".", " Check", " out", " those", " loading", " \ufffd", "\ufffd", "film", "strip", "\ufffd", "\ufffd", " views", " for", " g", "aw", "ker", ",", " tech", "cr", "unch", ",", " and", " the", " NYT", ".", " You", " might", " be", " scrolling", " down", ",", " looking", " at", " the", " graphs", ",", " and", " thinking", " to", " yourself", " \ufffd", "\ufffd", "look", "s", " like", " Flash", " is", " the", " big", " ticket", " item", "\u2026", "\ufffd", "\ufffd", ",", " and", " while", " that", "\ufffd", "\ufffd", "s", " true", " in", " absolute", " terms", ",", " Flash", " isn", "\ufffd", "\ufffd", "t", " what", "\ufffd", "\ufffd", "s", " blocking", " page", " loads", ".", " JS", " is", ".", "\n", "\n", "And", " what", " for", "?", " What", "\ufffd", "\ufffd", "s", " all", " that", " code", " doing", ",", " anyway", "?", "\n", "\n", "It", "\ufffd", "\ufffd", "s", " there", " for", " three", " reasons", ":", " first", ",", " to", " clean", " up", " the", " mess", "es", " that", " browser", " vendors", " aren", "\ufffd", "\ufffd", "t", " willing", " or", " able", " to", " clean", " up", " for", " themselves", ";", " second", ",", " to", " provide", " an", " API", " that", " becomes", " the", " new", " platform", ",", " and", " last", "ly", " to", " provide", " the", " app", "-", "specific", " stuff", " you", " are", " trying", " to", " get", " across", ".", " Only", " the", " last", " one", " is", " strictly", " valuable", ".", " You", "\ufffd", "\ufffd", "re", " not", " including", " J", "Query", ",", " Back", "bone", ",", " Prototype", " or", " Do", "jo", " into", " your", " pages", " just", " because", " you", " like", " the", " API", " (", "if", " you", " are", ",", " stop", " it", ").", " You", "\ufffd", "\ufffd", "re", " doing", " it", " because", " the", " combination", " of", " API", " and", " even", " behavior", " across", " browsers", " makes", " them", " the", " bedrock", ".", " They", " are", " the", " new", " l", "isp", " of", " application", " construction", ";", " the", " common", " language", " upon", " which", " you", " and", " your", " small", " team", " can", " agree", ";", " just", " don", "\ufffd", "\ufffd", "t", " expect", " anyone", " else", " to", " be", " able", " to", " pick", " up", " your", " variant", " without", " squ", "int", "ing", " hard", ".", "\n", "\n", "This", " is", " as", " unt", "enable", " as", " it", " is", " dangerous", ".", " It", " was", " this", " realization", " that", " set", " me", " and", " Dim", "itri", " Gl", "az", "kov", " off", " to", " build", " a", " team", " to", " do", " something", " about", " it", " more", " than", " a", " year", " and", " a", " half", " ago", ".", " The", " results", " are", " showing", " up", " now", " in", " the", " form", " of", " Web", " Components", " and", " Shadow", " DOM", ",", " M", "utation", " Obs", "er", "vers", " as", " plumbing", " for", " Model", " Dri", "ven", " View", ",", " and", " a", " host", " of", " new", " CSS", " capabilities", " and", " JavaScript", " language", " express", "iveness", " wins", ".", " If", " that", " sounds", " like", " a", " huge", " pile", " of", " seemingly", " un", "-", "related", " work", ",", " let", " me", " walk", " back", " to", " one", " of", " the", " motivating", " questions", " and", " then", " I", "\ufffd", "\ufffd", "ll", " fast", " forward", " to", " the", " approach", ":", "\n", "\n", "What", " would", " it", " mean", " to", " be", " able", " to", " subclass", " an", " HTML", " Element", "?", "\n", "\n", "We", " observed", " that", " most", " of", " what", " the", " current", " libraries", " and", " frameworks", " are", " doing", " is", " just", " trying", " to", " create", " their", " own", " \ufffd", "\ufffd", "wid", "gets", "\ufffd", "\ufffd", " and", " that", " most", " of", " these", " new", " UI", " controls", " had", " a", " semantic", " they", "\ufffd", "\ufffd", "d", " like", " to", " describe", " in", " a", " pretty", " high", "-", "level", " way", ",", " an", " implementation", " for", " drawing", " the", " current", " state", ",", " and", " the", " need", " to", " parent", " other", " widgets", " or", " live", " in", " a", " hierarchy", " of", " widgets", ".", "\n", "\n", "H", "eeee", "ey", "yy", "yy", "y", "\u2026.", "wait", " a", " minute", "\u2026", "that", " sounds", " a", " lot", " like", " what", " HTML", " does", "!", " And", " you", " even", " have", " HTML", " controls", " which", " generate", " extra", " elements", " for", " visual", " styling", " but", " which", " you", " can", "\ufffd", "\ufffd", "t", " access", " from", " script", ".", " This", ",", " BT", "W", ",", " is", " what", " you", " want", " when", " building", " your", " own", " controls", ".", " Think", " the", " bullets", " of", " list", " items", " or", " the", " sl", "iders", " generated", " by", " <", "input", " type", "=\"", "range", "\">", ".", " There", " are", " even", " these", " handy", " (", "non", "-", "construct", "able", "!?", "!)", " construct", "ors", " for", " the", " super", "classes", " in", " JS", " already", ".", "\n", "\n", "So", " what", " would", " you", " need", " access", " to", " in", " order", " to", " plug", " into", " that", " existing", " system", "?", " And", " how", " should", " it", " be", " described", "?", " This", ",", " by", " the", " way", ",", " is", " the", " danger", " zone", ".", " Right", " about", " this", " point", " in", " the", " logical", " chain", " most", " folks", " tend", " to", " fall", " back", " to", " what", " they", " know", " best", ":", " C", "++", " hacker", "?", " Give", " \ufffd", "\ufffd", "em", " a", " crappy", " C", "++", "-", "inspired", " high", "-", "level", "-", "ish", " JS", " API", " that", " will", " make", " the", " people", " yelling", " loud", "est", " stop", " beating", " you", " up", ".", " Decl", "ar", "ative", " guy", "?", " Force", " everyone", " to", " describe", " their", " components", " as", " separate", " documents", " and", "\u2026", "yeah", ".", " X", "UL", ".", " You", " get", " the", " idea", ".", " JavaScript", " person", "?", " Demand", " the", " lowest", " level", " API", " and", " as", " much", " unw", "arranted", " power", " as", " possible", " and", " pretend", " you", " don", "\ufffd", "\ufffd", "t", " need", " the", " browser", ".", " JS", " libraries", " are", " the", " \ufffd", "\ufffd", "fuck", " it", ",", " we", "\ufffd", "\ufffd", "ll", " do", " it", " live", "!", "\ufffd", "\ufffd", " of", " the", " web", ".", "\n", "\n", "None", " of", " these", " are", " satisfying", ".", " Certainly", " not", " if", " what", " we", " want", " is", " a", " platform", " of", " the", " sort", " you", " might", " consider", " using", " \ufffd", "\ufffd", "n", "aked", "\ufffd", "\ufffd", ".", " And", " if", " your", " \ufffd", "\ufffd", "platform", "\ufffd", "\ufffd", " always", " needs", " the", " same", " sh", "ims", " here", " and", " poly", "f", "ills", " there", ",", " let", " me", " be", " candid", ":", " it", " ain", "\ufffd", "\ufffd", "t", " no", " platform", ".", " It", "\ufffd", "\ufffd", "s", " some", " timber", " and", " bolts", " out", " of", " which", " you", " can", " make", " a", " nice", " weekend", " DIY", " project", " of", " building", " a", " real", " platform", ".", "\n", "\n", "So", " we", " need", " to", " do", " better", ".", "\n", "\n", "What", " does", " better", " look", " like", "?", "\n", "\n", "Better", " is", " layered", ".", " Better", " is", " being", " able", " to", " just", " replace", " what", " you", " need", ",", " to", " plug", " in", " your", " own", " bits", " to", " a", " whole", " that", " supports", " that", " instead", " of", " making", " you", " re", "-", "create", " everything", " above", " any", " layer", " you", " want", " to", " sh", "im", " something", " into", ".", " This", " is", " why", " mut", "able", " root", " prototypes", " in", " JS", " and", " object", " mut", "ability", " in", " general", " are", " such", " cherished", " and", " lo", "athed", " properties", " of", " the", " web", ".", " It", " is", " great", " power", ".", " It", "\ufffd", "\ufffd", "s", " just", " a", " pity", " we", " need", " it", " so", " often", ".", " Any", " plan", " for", " making", " things", " better", " that", "\ufffd", "\ufffd", "s", " pred", "icated", " on", " telling", " people", " \ufffd", "\ufffd", "oh", ",", " just", " go", " pile", " more", " of", " your", " own", " parallel", " systems", " on", " top", " of", " a", " platform", " that", " already", " does", " 90", "%", " of", " what", " you", " need", " but", " which", " won", "\ufffd", "\ufffd", "t", " open", " up", " the", " API", " for", " it", "\ufffd", "\ufffd", " is", " DO", "OM", "ED", ".", "\n", "\n", "Thus", " began", " a", " archae", "ology", " project", ",", " one", " which", " has", " differed", " in", " scope", " and", " approach", " from", " most", " of", " the", " recently", " added", " web", " capabilities", " I", " can", " think", " of", ",", " not", " because", " it", "\ufffd", "\ufffd", "s", " high", "-", "level", " or", " low", "-", "level", ",", " but", " because", " it", " is", " layered", ".", " New", " high", "-", "level", " capabilities", " are", " added", ",", " but", " instead", " of", " then", " poking", " a", " hole", " nearly", " all", " the", " way", " down", " to", " C", "++", " when", " we", " want", " a", " low", "-", "level", " thing", ",", " the", " approach", " is", " to", " look", " at", " the", " high", "-", "level", " thing", " and", " say", ":", "\n", "\n", "How", " would", " we", " describe", " what", " it", "\ufffd", "\ufffd", "s", " doing", " at", " the", " next", " level", " down", " in", " an", " API", " that", " we", " could", " expose", "?", "\n", "\n", "This", " is", " the", " reason", " low", "-", "level", "-", "only", " API", " proposals", " drive", " me", " nuts", ".", " New", " stuff", " in", " the", " platform", " tends", " to", " be", " driven", " by", " scenarios", ".", " You", " want", " to", " do", " a", " thing", ",", " that", " thing", " probably", " has", " some", " UI", " (", "probably", " browser", " provided", "),", " and", " might", " invoke", " something", " security", " sensitive", ".", " If", " you", " start", " designing", " at", " the", " lowest", " level", ",", " throwing", " a", " C", "++", " API", " over", " the", " wall", ",", " you", "\ufffd", "\ufffd", "ve", " turned", " off", " any", " opportunity", " or", " incentive", " to", " layer", " well", ".", " Just", " tell", " everyone", " to", " use", " the", " very", " fine", " JS", " API", ",", " after", " all", ".", " Why", " should", " anyone", " want", " more", "?", " (", "h", "int", ":", " graph", " above", ").", " Instead", " of", " opening", " doors", ",", " though", ",", " it", "\ufffd", "\ufffd", "s", " mostly", " burden", ".", " Everything", " you", " have", " to", " do", " from", " script", " is", " expensive", " and", " slow", " and", " prone", " to", " all", " sorts", " of", " visual", " and", " accessibility", " problems", " by", " default", ".", " If", " the", " browser", " can", " provide", " common", " UI", " and", " interaction", " for", " the", " scenario", ",", " isn", "\ufffd", "\ufffd", "t", " that", " better", " most", " of", " the", " time", "?", " Just", " imagine", " how", " much", " easier", " it", " would", " be", " to", " build", " an", " app", " if", " the", " initial", " cut", " at", " location", " information", " had", " been", " <", "input", " type", "=\"", "location", "\">", " instead", " of", " the", " Ge", "ol", "ocation", " API", " we", " have", " now", ".", " True", ",", " that", " input", " element", " would", " need", " lots", " of", " configuration", " flags", " and", ",", " eventually", ",", " a", " fine", "-", "gr", "ained", " API", "\u2026", "if", " only", " there", " were", " a", " way", " to", " put", " an", " API", " onto", " an", " HTML", " element", " type", "\u2026", "hr", "m", "\u2026", "\n", "\n", "In", " contrast", ",", " if", " we", " go", " decl", "ar", "ative", "-", "only", " we", " get", " a", " lot", " of", " the", " web", " platform", " today", ".", " Fine", " at", " first", " but", " horrible", " to", " work", " with", " over", " time", ",", " prone", " to", " attracting", " API", " barn", "acles", " to", " fill", " perceived", " gaps", ",", " and", " never", " quite", " enough", ".", " The", " need", " for", " that", " API", " keeps", " coming", " back", " to", " haunt", " us", ".", " We", "\ufffd", "\ufffd", "re", " gonna", " need", " both", " sides", ",", " markup", " and", " imperative", ",", " sooner", " or", " later", ".", " A", " framework", " for", " thinking", " about", " what", " that", " might", " look", " like", " seems", " in", " order", ".", " Our", " adventure", " in", " excavation", " with", " Web", " Components", " has", " largely", " been", " a", " success", ",", " not", " because", " we", "\ufffd", "\ufffd", "re", " looking", " to", " \ufffd", "\ufffd", "k", "ernal", "ize", " the", " browser", "\ufffd", "\ufffd", " in", " JS", " \u2014", " good", " or", " bad", ",", " that", "\ufffd", "\ufffd", "s", " an", " idea", " with", " serious", " reality", "-", "host", "ile", " properties", " as", " soon", " as", " you", " add", " a", " network", " \u2014", " but", " because", " when", " you", " force", " yourself", " to", " think", " about", " what", "\ufffd", "\ufffd", "s", " already", " down", " there", " as", " an", " API", " designer", ",", " you", " start", " making", " connections", ",", " finding", " the", " bits", " that", " are", " latent", " in", " the", " platform", " and", " should", " be", " used", " to", " explain", " more", " of", " the", " high", " level", " things", " in", " terms", " of", " fewer", ",", " more", " powerful", " prim", "itives", " at", " the", " next", " layer", " down", ".", " This", " isn", "\ufffd", "\ufffd", "t", " a", " manifesto", " for", " writing", " the", " whole", " world", " in", " JS", ";", " it", "\ufffd", "\ufffd", "s", " a", " reasonable", " and", " practical", " approach", " for", " how", " to", " succeed", " by", " starting", " high", " and", " working", " backwards", " from", " the", " 80", "%", " use", "-", "case", " to", " something", " that", " eventually", " has", " most", " of", " the", " flexibility", " and", " power", " that", " high", "-", "end", " users", " crave", ".", "\n", "\n", "The", " concrete", " steps", " are", ":", "\n", "\n", "Introdu", "ce", " new", " platform", " capabilities", " with", " high", "-", "level", ",", " decl", "ar", "ative", " forms", ".", " I", ".", "e", ".,", " invent", " new", " tags", " and", " attributes", ".", " DOM", " gives", " you", " an", " API", " for", " free", " when", " you", " do", " it", " that", " way", ".", " Everyone", "\ufffd", "\ufffd", "s", " a", " winner", ".", " When", " the", " thing", " you", " want", " feels", " like", " something", " that", "\ufffd", "\ufffd", "s", " already", " \ufffd", "\ufffd", "down", " there", "\ufffd", "\ufffd", " somewhere", ",", " try", " to", " explain", " the", " bits", " that", " already", " exist", " in", " markup", " in", " terms", " of", " a", " lower", "-", "level", " JS", " or", " markup", " primitive", ".", " If", " you", " can", "\ufffd", "\ufffd", "t", " do", " that", " or", " you", " think", " your", " new", " API", " has", " no", " connection", " to", " markup", ",", " go", " back", " to", " step", " 1", " and", " start", " again", ".", " When", " it", " feels", " like", " you", "\ufffd", "\ufffd", "re", " invent", "ing", " new", " language", " prim", "itives", " in", " DOM", " just", " to", " get", " around", " JS", " language", " limitations", ",", " extend", " the", " language", ",", " not", " the", " API", "\n", "\n", "On", " the", " web", ",", " JavaScript", " is", " what", "\ufffd", "\ufffd", "s", " down", " there", ".", " When", " it", "\ufffd", "\ufffd", "s", " not", ",", " we", "\ufffd", "\ufffd", "re", " doing", " it", " wrong", ".", " It", " has", " taken", " me", " a", " very", " long", " time", " to", " understand", " why", " the", " Java", " community", " puts", " such", " a", " high", " premium", " on", " the", " \ufffd", "\ufffd", "pure", " java", "\ufffd", "\ufffd", " label", ",", " and", " fundamentally", " what", " it", " says", " to", " others", " in", " the", " community", " is", " \ufffd", "\ufffd", "I", " appealed", " to", " no", " gods", " and", " no", " magic", " in", " the", " construction", " of", " this", ",", " merely", " physics", "\ufffd", "\ufffd", ".", " That", "\ufffd", "\ufffd", "s", " a", " Good", " Thing", " (", "TM", "),", " and", " the", " sort", " of", " property", " that", " proper", " platforms", " should", " embody", " to", " the", " greatest", " extent", " possible", ".", "\n", "\n", "And", " this", " brings", " me", " to", " my", " final", " point", ".", " C", "/", "C", "++", " might", " be", " what", "\ufffd", "\ufffd", "s", " \ufffd", "\ufffd", "down", " there", "\ufffd", "\ufffd", " for", " web", " browsers", ",", " but", " that", "\ufffd", "\ufffd", "s", " also", " been", " true", " of", " Java", ".", " What", " separates", " the", " web", " and", " Java", ",", " however", ",", " is", " that", " the", " Java", " community", " sees", " their", " imperative", " abstraction", " that", " keeps", " them", " from", " having", " to", " think", " about", " memory", " correctness", " (", "the", " J", "VM", ")", " as", " an", " asset", " and", " many", " \ufffd", "\ufffd", "web", " people", "\ufffd", "\ufffd", " think", " of", " JS", " as", " pure", " liability", ".", " I", " argue", " that", " because", " of", " the", " \ufffd", "\ufffd", "you", "\ufffd", "\ufffd", "re", " gonna", " need", " both", " sides", "\ufffd", "\ufffd", " dynamic", ",", " trying", " to", " write", " JS", " out", " of", " the", " picture", " is", " a", " dumb", " as", " it", " is", " doomed", " to", " fail", ".", " JavaScript", " is", " what", "\ufffd", "\ufffd", "s", " \ufffd", "\ufffd", "down", " there", "\ufffd", "\ufffd", " for", " the", " web", ".", " The", " web", " has", " an", " imperative", " backbone", " and", " we", "\ufffd", "\ufffd", "re", " never", " going", " to", " expose", " C", "/", "C", "++", " A", "BI", " for", " it", ",", " which", " means", " JS", " is", " our", " imperative", " successor", ".", " The", " archaeological", " dig", " which", " is", " adding", " features", " like", " Web", " Components", " is", " providing", " more", " power", " to", " JS", " by", " the", " day", " and", " if", " we", " do", " this", " right", " and", " describe", " each", " bit", " as", " a", " layer", " with", " an", " API", " that", " the", " one", " above", " builds", " on", ",", " we", " can", " see", " pretty", " clearly", " how", " the", " logical", " regress", " of", " the", " \ufffd", "\ufffd", "you", " must", " use", " JS", " to", " implement", " the", " whole", " browser", "\ufffd", "\ufffd", " isn", "\ufffd", "\ufffd", "t", " insane", ".", " JS", " itself", " is", " implemented", " as", " C", "/", "C", "++", ",", " so", " there", "\ufffd", "\ufffd", "s", " always", " room", " for", " the", " mother", " tongue", " and", " of", " course", " many", " of", " the", " APIs", " that", " we", " interact", " with", " from", " JS", " must", " be", " C", "/", "C", "++;", " you", " can", "\ufffd", "\ufffd", "t", " write", " it", " out", " of", " the", " story", " \u2014", " but", " that", " doesn", "\ufffd", "\ufffd", "t", " mean", " we", " need", " to", " design", " our", " APIs", " there", " or", " throw", " bad", " design", " decisions", " over", " the", " wall", " for", " someone", " else", " to", " clean", " up", ".", " It", " is", " high", " time", " we", " started", " designing", " low", "-", "level", " stuff", " for", " the", " web", " in", " idi", "omatic", " JS", " (", "not", " ID", "L", "),", " start", " describing", " the", " various", " plug", "-", "in", " points", " for", " what", " they", " are", ".", " We", " can", " provide", " power", " from", " our", " imperative", " abstraction", " to", " and", " through", " our", " decl", "ar", "ative", " layer", " in", " ways", " that", " make", " both", " high", " and", " low", "-", "level", " users", " of", " the", " web", " platform", " more", " able", " to", " interoper", "ate", ",", " build", " on", " each", " other", "\ufffd", "\ufffd", "s", " work", ",", " and", " deliver", " better", " experiences", " at", " reasonable", " cost", ".", " That", "\ufffd", "\ufffd", "s", " the", " difference", " between", " a", " mine", "field", " and", " a", " platform", ".", " Only", " one", " of", " them", " is", " reasonable", " to", " build", " on", ".", "\n", "\n", "The", " trash", " truck", " just", " came", " by", " which", " means", " it", "\ufffd", "\ufffd", "s", " 6", "AM", " here", " in", " almost", "-", "s", "unny", " London", ".", " WordPress", " is", " likewise", " telling", " me", " that", " I", "\ufffd", "\ufffd", "m", " dangerously", " out", " of", " column", "-", "inches", ",", " so", " I", " guess", " I", "\ufffd", "\ufffd", "ll", " see", " if", " I", " can", "\ufffd", "\ufffd", "t", " get", " a", " last", " hour", " or", " two", " of", " sleep", " before", " the", " weekend", " is", " truly", " over", ".", " The", " arguments", " here", " may", " not", " be", " well", " presented", ",", " and", " they", " are", " subtle", ",", " but", " lay", "ering", " matters", ".", " We", " don", "\ufffd", "\ufffd", "t", " have", " enough", " of", " it", " and", " when", " done", " well", ",", " it", " can", " be", " a", " powerful", " tool", " in", " ending", " the", " battle", " between", " imperative", " and", " decl", "ar", "ative", ".", " I", "\ufffd", "\ufffd", "ll", " make", " the", " case", " some", " other", " time", " for", " why", " custom", " element", " names", " are", " a", " good", " idea", ",", " but", " consider", " it", " in", " the", " layered", " context", ":", " if", " I", " could", " subclass", " HT", "M", "LE", "lement", " from", " JavaScript", " in", " the", " natural", " way", ",", " why", " can", "\ufffd", "\ufffd", "t", " I", " just", " put", " a", " new", " tag", " name", " in", " the", " map", " the", " parser", " is", " using", " to", " create", " instances", " of", " all", " the", " other", " element", " types", "?", " Aside", " from", " the", " agreement", " about", " the", " names", ",", " what", " makes", " the", " built", "-", "in", " elements", " so", " special", ",", " anyway", "?", "\n", "\n", "C", "ognitive", " disson", "ance", ",", " ah", "oy", "!", " You", "\ufffd", "\ufffd", "re", " welcome", " ;", "-)", "\n", "\n", "Note", ":", " this", " post", " has", " evolved", " in", " the", " several", " days", " since", " its", " initial", " posting", ",", " thanks", " largely", " to", " feedback", " from", " Annie", " Sullivan", " and", " Steve", " S", "oud", "ers", ".", " But", " it", "\ufffd", "\ufffd", "s", " not", " their", " fault", ".", " I", " promise", "."]