["In", " this", " tutorial", ",", " I", " will", " show", " you", " how", " to", " create", " a", " simple", " input", " manager", " to", " handle", " directional", " input", " via", " the", " keyboard", ",", " a", " game", "pad", ",", " or", " on", "-", "screen", " touch", " controls", ".", " Though", " this", " tutorial", " only", " covers", " directional", " movement", ",", " it", " can", " easily", " be", " extended", " to", " add", " extra", " functionality", ",", " such", " as", " a", " jump", " button", ".", "\n", "\n", "As", " always", ",", " if", " you", " get", " stuck", " on", " any", " of", " the", " basics", ",", " refer", " to", " my", " P", "ong", " Tutorial", " where", " you", " can", " get", " up", " to", " speed", " on", " all", " the", " Unity", " basics", ".", " This", " tutorial", " is", " written", " in", " the", " assumption", " that", " you", " know", " your", " way", " around", " Unity", " and", " its", " main", " functionality", ".", "\n", "\n", "What", " We", "\ufffd", "\ufffd", "ll", " Do", "\n", "\n", "We", " will", " create", " a", " very", " basic", " scene", " with", " a", " player", " sprite", " that", " can", " be", " moved", " up", ",", " down", ",", " left", ",", " and", " right", " using", " the", " three", " input", " methods", ".", " The", " keyboard", " and", " game", "pad", " inputs", " will", " be", " handled", " using", " the", " standard", " Unity", " Input", " class", ",", " which", " is", " super", " simple", ".", " For", " on", "-", "screen", " touch", " controls", ",", " we", "\ufffd", "\ufffd", "ll", " create", " a", " special", " script", " and", " attach", " it", " to", " some", " buttons", ".", " All", " the", " touch", " will", " be", " handled", " by", " a", " special", " Input", "Manager", " class", " to", " keep", " the", " player", " code", " simple", ",", " so", " the", " player", " script", " doesn", "\ufffd", "\ufffd", "t", " know", " (", "or", " care", ")", " what", " input", " method", " is", " being", " used", ".", "\n", "\n", "We", "\ufffd", "\ufffd", "ll", " do", " everything", " in", " the", " following", " order", ":", "\n", "\n", "Create", " the", " player", " Create", " the", " Input", "Manager", " script", " to", " handle", " keyboard", " and", " game", "pad", " input", ".", " Create", " the", " Player", " script", " to", " move", " the", " player", " according", " to", " input", " in", " the", " Input", "Manager", " script", ".", " Create", " touch", " input", " buttons", ".", " Mod", "ify", " the", " Input", "Manager", " script", " it", " include", " it", ".", "\n", "\n", "What", " you", " Need", "\n", "\n", "To", " complete", " this", " tutorial", ",", " you", " need", ":", "\n", "\n", "Unity", " 5", ".", "6", ".", "1", ",", " though", " any", " recent", " version", " should", " be", " fine", ".", "\n", "\n", "Some", " sprites", " \u2013", " anything", " to", " represent", " the", " player", " and", " the", " four", " directional", " movement", " buttons", ".", " Check", " out", " Ken", "ney", ".", "nl", " or", " Open", "Game", "Art", ".", "org", " if", " you", " don", "\ufffd", "\ufffd", "t", " have", " anything", " handy", ".", "\n", "\n", "Download", " the", " following", " sprites", " if", " you", " want", " (", "these", " are", " all", " public", " domain", "):", "\n", "\n", "1", ".", " Create", " the", " Player", "\n", "\n", "Basic", " Setup", "\n", "\n", "Start", " a", " new", " Unity", " project", " with", " the", " 2", "D", " settings", ".", " Create", " an", " empty", " Game", "Object", " and", " rename", " it", " to", " Player", ".", " Add", " a", " Sprite", "R", "end", "erer", " component", " to", " the", " Player", " object", ".", " Add", " your", " sprites", " to", " the", " project", ".", " Add", " the", " player", " sprite", " to", " the", " Player", "\ufffd", "\ufffd", "s", " Sprite", "R", "end", "erer", ".", "\n", "\n", "You", " should", " now", " see", " something", " similar", " to", " this", " in", " Unity", " (", "I", " always", " change", " the", " default", " camera", " background", " colour", " from", " the", " hor", "rid", " shade", " of", " blue", " to", " something", " nicer", "):", "\n", "\n", "2", ".", " Detect", " Input", "\n", "\n", "Now", " let", "\ufffd", "\ufffd", "s", " make", " the", " player", " move", " using", " Unity", "\ufffd", "\ufffd", "s", " input", " axes", ".", "\n", "\n", "Unity", " provides", " great", " automatic", " horizontal", " and", " vertical", " input", " via", " the", " Input", " class", ",", " and", " this", " means", " you", " can", " effortlessly", " get", " player", " input", " from", " the", " keyboard", " and", " any", " game", "pad", " with", " very", " little", " code", ".", " Here", "\ufffd", "\ufffd", "s", " a", " quick", " example", " of", " how", " to", " get", " the", " left", "/", "right", " input", " from", " the", " player", ":", "\n", "\n", "var", " horizontal", "Move", "ment", " =", " Input", ".", "Get", "Ax", "is", "(", "\ufffd", "\ufffd", "Hor", "izontal", "\ufffd", "\ufffd", ");", "\n", "\n", "That", "\ufffd", "\ufffd", "s", " all", " the", " code", " you", " need", " to", " detect", " input", " on", " the", " horizontal", " axis", ".", " The", " value", " of", " horizontal", "Move", "ment", " will", " be", " between", " \u2013", "1", " and", " 1", ",", " with", " \u2013", "1", " being", " fully", " to", " the", " left", ",", " 0", " being", " no", " movement", " at", " all", ",", " and", " 1", " being", " fully", " to", " the", " right", ".", " Switch", " \ufffd", "\ufffd", "Hor", "izontal", "\ufffd", "\ufffd", " for", " \ufffd", "\ufffd", "Vert", "ical", "\ufffd", "\ufffd", ",", " and", " you", " have", " \u2013", "1", " equal", " to", " fully", " down", " and", " 1", " to", " fully", " up", ".", "\n", "\n", "Input", "Manager", " Script", "\n", "\n", "Let", "\ufffd", "\ufffd", "s", " put", " that", " into", " a", " script", " and", " make", " it", " move", " the", " player", ".", "\n", "\n", "Create", " a", " new", " C", "#", " script", " called", " \ufffd", "\ufffd", "Input", "Manager", ".", "cs", "\ufffd", "\ufffd", ".", " Open", " Input", "Manager", ".", "cs", " in", " your", " code", " editor", " of", " choice", ",", " then", " replace", " the", " code", " with", " the", " following", ":", "\n", "\n", "using", " System", ".", "Col", "lections", ";", " using", " System", ".", "Col", "lections", ".", "Generic", ";", " using", " Unity", "Engine", ";", " public", " class", " Input", "Manager", " :", " Mono", "Beh", "aviour", " {", " public", " Vector", "2", " Current", "Input", " {", " get", " {", " return", " new", " Vector", "2", "(", "Input", ".", "Get", "Ax", "is", "(\"", "Hor", "izontal", "\"),", " Input", ".", "Get", "Ax", "is", "(\"", "Vert", "ical", "\")", ");", " }", " }", " }", "\n", "\n", "That", " code", " is", " pretty", " straightforward", ".", " It", " simply", " wraps", " up", " the", " horizontal", " and", " vertical", " input", " axes", " into", " a", " public", " Vector", "2", ",", " which", " the", " player", " can", " then", " grab", ".", " The", " reason", " we", " do", " it", " in", " this", " separate", " script", " instead", " of", " having", " the", " player", " directly", " access", " the", " input", " is", " so", " we", " can", " add", " more", " to", " it", " later", " without", " needing", " to", " mess", " with", " the", " player", " script", ".", " This", " keeps", " the", " code", " nice", " and", " modular", ",", " so", " that", " each", " script", " sticks", " to", " its", " own", ".", " This", " is", " very", " important", " when", " your", " project", " gets", " more", " complicated", ".", " Later", " on", ",", " we", "\ufffd", "\ufffd", "ll", " add", " more", " code", " to", " this", " script", " to", " enable", " touch", " controls", ",", " but", " we", "\ufffd", "\ufffd", "ll", " leave", " it", " like", " this", " for", " now", ".", "\n", "\n", "Save", " the", " script", " and", " return", " to", " Unity", ".", "\n", "\n", "3", ".", " Create", " the", " Player", " Script", "\n", "\n", "Create", " a", " new", " C", "#", " script", " called", " \ufffd", "\ufffd", "Player", ".", "cs", "\ufffd", "\ufffd", ".", " Open", " Player", ".", "cs", " and", " replace", " the", " code", " with", " the", " following", ":", "\n", "\n", "using", " System", ".", "Col", "lections", ";", " using", " System", ".", "Col", "lections", ".", "Generic", ";", " using", " Unity", "Engine", ";", " public", " class", " Player", " :", " Mono", "Beh", "aviour", " {", " Input", "Manager", " input", "Manager", ";", " [", "Serial", "ize", "Field", "]", " float", " player", "Speed", " =", " 5", "f", ";", " private", " void", " Aw", "ake", "()", " {", " input", "Manager", " =", " Get", "Component", "<", "Input", "Manager", ">", "();", " }", " void", " Update", " ()", " {", " transform", ".", "Trans", "late", "(", "input", "Manager", ".", "Current", "Input", " *", " Time", ".", "d", "elta", "Time", " *", " player", "Speed", ");", " }", " }", "\n", "\n", "This", " script", " simply", " moves", " the", " player", " transform", " according", " to", " the", " input", " from", " the", " Input", "Manager", " script", ".", " In", " the", " Update", " method", ",", " the", " movement", " amount", " is", " multiplied", " by", " Time", ".", "d", "elta", "Time", " (", "i", ".", "e", ".", " the", " time", " since", " the", " last", " frame", "),", " which", " ensures", " the", " movement", " is", " smooth", " (", "other", "wise", " the", " movement", " would", " be", " slightly", " slower", " or", " faster", " on", " each", " frame", ").", " The", " movement", " is", " also", " multiplied", " by", " a", " player", "Speed", " variable", " to", " control", " how", " fast", " the", " player", " moves", ".", "\n", "\n", "As", " you", " can", " see", ",", " we", " use", " a", " Get", "Component", " to", " get", " a", " reference", " to", " the", " Input", "Manager", " script", ",", " meaning", " that", " we", " must", " ensure", " the", " two", " scripts", " are", " both", " on", " the", " Player", " Game", "Object", ".", "\n", "\n", "Put", " it", " all", " together", ":", "\n", "\n", "Add", " the", " Player", " script", " to", " the", " Player", " Game", "Object", ".", " Add", " the", " Input", "Manager", " script", " to", " the", " Player", " Game", "Object", ".", " Play", " the", " scene", " and", " move", " the", " player", " around", ".", " If", " you", " have", " a", " game", "pad", " (", "e", ".", "g", ".", " an", " Xbox", " controller", "),", " you", " can", " move", " the", " player", " with", " that", ".", " The", " keyboard", " arrow", " keys", " and", " WAS", "D", " will", " also", " work", ".", "\n", "\n", "If", " the", " player", " moves", " too", " slowly", " or", " quickly", " for", " your", " taste", ",", " adjust", " the", " speed", " variable", " in", " the", " Inspector", " pane", ".", "\n", "\n", "4", ".", " Touch", " Controls", "\n", "\n", "Touch", " controls", " are", " a", " little", " more", " complicated", ".", " I", " use", " a", " technique", " that", " is", " very", " easy", " to", " extend", " because", " it", " is", " quite", " modular", ".", "\n", "\n", "I", " use", " a", " UI", " canvas", " to", " place", " buttons", " on", " the", " screen", ",", " then", " use", " Unity", "\ufffd", "\ufffd", "s", " Event", " Tr", "ig", "gers", " to", " detect", " when", " a", " button", " is", " pressed", " or", " released", ".", " A", " bit", " of", " simple", " logic", " and", " state", " handling", " repl", "icates", " Unity", "\ufffd", "\ufffd", "s", " normal", " button", " functionality", " so", " you", " can", " detect", " if", " a", " button", " is", " currently", " held", ",", " was", " pressed", " down", " on", " the", " last", " frame", ",", " was", " released", " on", " the", " last", " frame", ",", " or", " is", " not", " being", " manipulated", " at", " all", ".", "\n", "\n", "Create", " a", " Button", "State", " En", "um", "\n", "\n", "Before", " we", " start", " on", " a", " new", " script", ",", " open", " up", " Input", "Manager", ".", "cs", " and", " add", " the", " following", " enum", " type", " (", "place", " it", " just", " before", " the", " \ufffd", "\ufffd", "Vector", "2", " _", "current", "Input", ";", "\ufffd", "\ufffd", " variable", "):", "\n", "\n", "public", " enum", " Button", "State", " {", " None", ",", " P", "ressed", "Down", ",", " Released", ",", " Held", " }", "\n", "\n", "That", " gives", " us", " a", " list", " of", " button", " states", " we", " can", " use", " to", " track", " the", " buttons", ".", " If", " you", "\ufffd", "\ufffd", "re", " not", " familiar", " with", " en", "ums", ",", " read", " this", " explanation", " over", " at", " Dot", "Net", "Per", "ls", ".", " Basically", ",", " an", " enum", " lets", " us", " define", " our", " own", " variable", " type", " with", " a", " fixed", " set", " of", " possible", " values", ".", "\n", "\n", "Create", " the", " Touch", "Button", " Script", "\n", "\n", "Let", "\ufffd", "\ufffd", "s", " create", " a", " script", " to", " attach", " to", " all", " the", " on", "-", "screen", " touch", " buttons", ".", "\n", "\n", "Create", " a", " new", " script", " called", " Touch", "Button", ".", "cs", ".", "\n", "\n", "I", "\ufffd", "\ufffd", "ll", " go", " through", " the", " code", " in", " sections", ",", " then", " put", " the", " whole", " code", " in", " one", " lump", " at", " the", " end", " of", " this", " section", ",", " so", " for", " now", ",", " don", "\ufffd", "\ufffd", "t", " copy", "-", "and", "-", "paste", " each", " chunk", " in", " separately", ",", " just", " read", " along", " for", " the", " explanation", ",", " then", " copy", " the", " whole", " script", " at", " the", " end", ".", "\n", "\n", "The", " Vari", "ables", "\n", "\n", "bool", " pressed", "Down", ";", " bool", " pressed", "Last", "Frame", ";", " public", " Input", "Manager", ".", "Button", "State", " Current", "State", ";", "\n", "\n", "These", " variables", " let", " us", " keep", " track", " of", " the", " button", "\ufffd", "\ufffd", "s", " state", " so", " we", " know", " if", " the", " player", " is", " pressing", " the", " button", ".", " As", " you", " can", " see", ",", " we", " track", " whether", " the", " button", " is", " (", "currently", ")", " pressed", ",", " whether", " it", " was", " pressed", " on", " the", " previous", " frame", ",", " and", " the", " button", "\ufffd", "\ufffd", "s", " current", " state", " (", "using", " the", " enum", " Button", "State", " we", " created", " in", " the", " Input", "Manager", " script", ").", "\n", "\n", "P", "ressed", " and", " Released", " Methods", "\n", "\n", "These", " two", " methods", " will", " be", " called", " automatically", " by", " Unity", " (", "once", " we", "\ufffd", "\ufffd", "ve", " wired", " them", " up", " in", " the", " Inspector", ")", " when", " the", " player", " touches", " or", " releases", " the", " button", ".", "\n", "\n", "public", " void", " Press", "Down", "()", " {", " pressed", "Down", " =", " true", ";", " }", " public", " void", " Release", "()", " {", " pressed", "Down", " =", " false", ";", " }", "\n", "\n", "These", " methods", " are", " very", " simple", " \u2013", " they", " just", " set", " the", " pressed", "Down", " variable", " based", " on", " whether", " the", " player", " touched", " the", " button", " or", " released", " it", ".", " These", " methods", " therefore", " let", " us", " know", " whether", " a", " touch", " began", " or", " ended", " on", " a", " given", " frame", ".", "\n", "\n", "The", " Update", "()", " Method", "\n", "\n", "During", " Update", "(),", " we", " check", " the", " current", " state", " of", " the", " button", ",", " then", " using", " the", " previous", " state", " as", " a", " comparison", ",", " we", " determine", " what", " the", " state", " should", " be", ".", " For", " example", ",", " if", " pressed", "Down", " is", " true", " and", " pressed", "Last", "Frame", " is", " false", ",", " we", " know", " that", " the", " player", " has", " just", " started", " pressing", " the", " button", " in", " this", " frame", " (", "because", " they", " are", " pressing", " it", " now", ",", " but", " weren", "\ufffd", "\ufffd", "t", " pressing", " on", " the", " previous", " frame", ").", "\n", "\n", "Here", " is", " the", " code", ":", "\n", "\n", "void", " Update", "()", " {", " //", " update", " the", " state", " based", " on", " the", " change", " since", " the", " last", " frame", " //", " update", " the", " state", " when", " the", " button", " is", " pressed", " if", " (", "pressed", "Down", ")", " {", " if", " (", "pressed", "Last", "Frame", ")", " {", " //", " was", " pressed", " in", " the", " previous", " frame", " and", " is", " still", " pressed", ",", " so", " the", " button", " is", " considered", " held", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "He", "ld", ";", " }", " else", " {", " //", " button", " not", " pressed", " last", " frame", ",", " but", " is", " now", ",", " so", " the", " button", " has", " been", " pressed", " down", " on", " this", " frame", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "P", "ressed", "Down", ";", " }", " }", " else", " {", " //", " now", " update", " if", " the", " button", " is", " not", " pressed", " if", " (", "pressed", "Last", "Frame", ")", " {", " //", " was", " pressed", " last", " frame", ",", " but", " no", " longer", " pressed", ",", " so", " it", " was", " released", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "Released", ";", " }", " else", " {", " //", " was", " not", " pressed", " last", " frame", " and", " still", " not", " pressed", ",", " so", " nothing", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "None", ";", " }", " }", " }", "\n", "\n", "I", "\ufffd", "\ufffd", "ve", " included", " comments", " to", " clarify", " the", " logic", ".", "\n", "\n", "Note", ":", " always", " detect", " input", " in", " Update", "(),", " never", " in", " Fixed", "Update", "().", " Fixed", "Update", "()", " does", " not", " run", " on", " the", " same", " times", "cale", " as", " Update", "(),", " and", " you", " will", " therefore", " risk", " some", " input", " being", " missed", ".", "\n", "\n", "Late", "Update", "()", "\n", "\n", "Finally", ",", " add", " this", " simple", " Late", "Update", "()", " method", ":", "\n", "\n", "private", " void", " Late", "Update", "()", " {", " //", " store", " the", " state", " from", " the", " last", " frame", " so", " it", " can", " be", " compared", " to", " the", " next", " frame", "'s", " state", " to", " check", " if", " it", " has", " changed", " pressed", "Last", "Frame", " =", " pressed", "Down", ";", " }", "\n", "\n", "This", " simply", " stores", " the", " current", " state", " of", " the", " button", " in", " the", " pressed", "Last", "Frame", " variable", " to", " be", " compared", " to", " the", " new", " state", " in", " the", " next", " frame", ".", " While", " this", " single", " line", " of", " code", " could", " be", " placed", " at", " the", " end", " of", " the", " Update", "()", " method", ",", " I", " prefer", " to", " use", " Late", "Update", "()", " to", " make", " the", " code", "\ufffd", "\ufffd", "s", " intention", " clearer", ".", "\n", "\n", "The", " Full", " Code", "\n", "\n", "Here", "\ufffd", "\ufffd", "s", " the", " full", " Touch", "Button", " code", " you", " can", " paste", " into", " your", " script", " (", "we", " will", " add", " some", " more", " code", " to", " this", " script", " later", "):", "\n", "\n", "using", " Unity", "Engine", ";", " using", " Unity", "Engine", ".", "UI", ";", " public", " class", " Touch", "Button", " :", " Mono", "Beh", "aviour", " {", " bool", " pressed", "Down", ";", " bool", " pressed", "Last", "Frame", ";", " public", " Input", "Manager", ".", "Button", "State", " Current", "State", ";", " public", " void", " Press", "Down", "()", " {", " pressed", "Down", " =", " true", ";", " }", " public", " void", " Release", "()", " {", " pressed", "Down", " =", " false", ";", " }", " void", " Update", "()", " {", " //", " update", " the", " state", " based", " on", " the", " change", " since", " the", " last", " frame", " //", " update", " the", " state", " when", " the", " button", " is", " pressed", " if", " (", "pressed", "Down", ")", " {", " if", " (", "pressed", "Last", "Frame", ")", " {", " //", " was", " pressed", " in", " the", " previous", " frame", " and", " is", " still", " pressed", ",", " so", " the", " button", " is", " considered", " held", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "He", "ld", ";", " }", " else", " {", " //", " button", " not", " pressed", " last", " frame", ",", " but", " is", " now", ",", " so", " the", " button", " has", " been", " pressed", " down", " on", " this", " frame", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "P", "ressed", "Down", ";", " }", " }", " else", " {", " //", " now", " update", " if", " the", " button", " is", " not", " pressed", " if", " (", "pressed", "Last", "Frame", ")", " {", " //", " was", " pressed", " last", " frame", ",", " but", " no", " longer", " pressed", ",", " so", " it", " was", " released", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "Released", ";", " }", " else", " {", " //", " was", " not", " pressed", " last", " frame", " and", " still", " not", " pressed", ",", " so", " nothing", " Current", "State", " =", " Input", "Manager", ".", "Button", "State", ".", "None", ";", " }", " }", " }", " private", " void", " Late", "Update", "()", " {", " //", " store", " the", " state", " from", " the", " last", " frame", " so", " it", " can", " be", " compared", " to", " the", " next", " frame", "'s", " state", " to", " check", " if", " it", " has", " changed", " pressed", "Last", "Frame", " =", " pressed", "Down", ";", " }", " }", "\n", "\n", "Create", " a", " Touch", " Button", "\n", "\n", "Now", " let", "\ufffd", "\ufffd", "s", " create", " our", " first", " touch", " button", ".", "\n", "\n", "Back", " in", " Unity", "\u2026", "\n", "\n", "Create", " an", " empty", " Game", "Object", " in", " the", " scene", " and", " name", " it", " Touch", "Control", "s", ".", " This", " will", " hold", " all", " the", " touch", " buttons", ".", " Add", " a", " UI", " Can", "vas", " component", " to", " Touch", "Control", "s", ".", " Note", ":", " Unity", " will", " also", " automatically", " add", " an", " Event", "System", " to", " the", " scene", ".", " This", " is", " normal", " and", " required", ".", " Add", " an", " empty", " Game", "Object", " as", " a", " child", " to", " the", " Can", "vas", ",", " and", " call", " it", " But", "tons", ".", " Add", " an", " empty", " Game", "Object", " as", " a", " child", " to", " But", "tons", ",", " and", " call", " it", " Left", ".", "\n", "\n", "Your", " Touch", "Control", "s", " should", " look", " like", " this", " in", " the", " Hier", "archy", ":", "\n", "\n", "Now", " add", " the", " required", " components", " to", " the", " Left", " button", ":", "\n", "\n", "Select", " the", " Left", " Game", "Object", ".", " Add", " an", " Image", " component", ".", " Drag", "-", "and", "-", "drop", " the", " sprite", " for", " the", " left", " movement", " button", " into", " the", " Image", " component", "\ufffd", "\ufffd", "s", " Source", " Image", " field", ".", " Add", " the", " Touch", "Button", " script", " to", " the", " object", ".", "\n", "\n", "Next", ",", " we", " add", " the", " events", " that", " trigger", " code", " in", " the", " Touch", "Input", " script", " when", " the", " player", " either", " touches", " or", " releases", " the", " button", ".", "\n", "\n", "Add", " an", " Event", " Trigger", " component", " to", " the", " object", ".", " Click", " the", " Add", " New", " Event", " Type", " button", " in", " the", " Event", " Trigger", " component", " in", " the", " Inspector", ".", " Select", " Po", "inter", "Down", " from", " the", " drop", "-", "down", " list", ".", " Click", " Add", " New", " Event", " Type", " again", ",", " and", " this", " time", " choose", " Po", "inter", "Up", " from", " the", " drop", "-", "down", " list", ".", "\n", "\n", "The", " component", " should", " look", " like", " this", ":", "\n", "\n", "Now", " you", " need", " to", " tell", " the", " component", " what", " code", " to", " run", " when", " the", " events", " happen", ".", " Po", "inter", " down", " detects", " when", " the", " player", " touches", " the", " button", ",", " so", " we", " want", " it", " to", " call", " the", " Press", "Down", " method", " in", " the", " Touch", "Input", " script", ".", "\n", "\n", "Click", " the", " +", " below", " the", " \ufffd", "\ufffd", "List", " is", " Empty", "\ufffd", "\ufffd", " message", " in", " the", " Po", "inter", " Down", " (", "Base", "Event", "Data", ")", " event", ".", " Drag", "-", "and", "-", "drop", " the", " Left", " Game", "Object", " from", " the", " Hier", "archy", " into", " the", " empty", " field", " (", "it", " currently", " says", " \ufffd", "\ufffd", "None", "\ufffd", "\ufffd", ").", " In", " the", " drop", "-", "down", " selector", " on", " the", " right", ",", " select", " Touch", "Input", ".", "Press", "Down", "().", "\n", "\n", "What", " you", " are", " doing", " here", " is", " saying", " that", " the", " code", " you", " want", " to", " run", " for", " this", " event", " is", " within", " the", " Left", " Game", "Object", ".", " Then", " you", " select", " the", " specific", " script", " (", "Touch", "Button", ")", " and", " the", " specific", " method", " (", "Press", "Down", ").", " So", " when", " this", " button", " is", " pressed", " down", ",", " the", " Press", "Down", " method", " on", " the", " Touch", "Button", " script", " instance", " on", " the", " Left", " Game", "Object", " is", " called", ".", "\n", "\n", "Now", ",", " do", " that", " again", " for", " the", " Po", "inter", "Up", " event", ",", " this", " time", " choosing", " Touch", "Button", ".", "Release", " as", " the", " method", " to", " run", ".", "\n", "\n", "Here", "\ufffd", "\ufffd", "s", " what", " it", " should", " look", " like", " when", " you", "\ufffd", "\ufffd", "re", " finished", ":", "\n", "\n", "Do", " the", " Other", " But", "tons", "\n", "\n", "Now", " you", " need", " to", " create", " the", " right", ",", " down", ",", " and", " up", " buttons", ".", " You", " can", " save", " yourself", " some", " work", " by", " dupl", "icating", " the", " Left", " button", " Game", "Object", " (", "select", " it", " in", " the", " Hier", "archy", " and", " press", " Ctrl", "-", "D", ").", " Dupl", "icate", " it", " three", " times", " and", " rename", " each", " duplicate", " Up", ",", " Down", ",", " and", " Right", ".", "\n", "\n", "You", " will", " also", " want", " to", " add", " different", " button", " images", " for", " each", " button", " and", " position", " them", " on", " the", " canvas", " roughly", " like", " this", ":", "\n", "\n", "I", " recommend", " using", " \ufffd", "\ufffd", "Scale", " with", " Screen", " Size", "\ufffd", "\ufffd", " setting", " for", " the", " canvas", ",", " and", " to", " anchor", " the", " buttons", " to", " the", " bottom", "-", "left", " corner", ".", " Be", " careful", " to", " put", " the", " correct", " buttons", " in", " the", " correct", " positions", ",", " or", " your", " movement", " will", " be", " all", " backwards", "!", "\n", "\n", "5", ".", " Update", " the", " Input", "Manager", "\n", "\n", "Now", " that", " we", "\ufffd", "\ufffd", "ve", " added", " touch", " buttons", " we", " need", " to", " include", " them", " in", " the", " Input", "Manager", " script", ".", " What", " we", " will", " do", " is", " add", " a", " check", " on", " the", " button", " states", " to", " the", " current", " Input", ".", "Get", "Ax", "is", "\u2026", "code", ".", " We", " are", " therefore", " extending", " the", " Input", "Manager", "\ufffd", "\ufffd", "s", " capabilities", " without", " touching", " any", " other", " code", " in", " the", " project", " (", "i", ".", "e", ".", " we", " don", "\ufffd", "\ufffd", "t", " need", " to", " change", " the", " player", " code", " \u2013", " this", " is", " the", " beauty", " of", " modular", " code", ").", "\n", "\n", "Open", " up", " Input", "Manager", ".", "cs", ".", "\n", "\n", "First", ",", " we", " want", " references", " to", " the", " four", " buttons", " we", " created", " in", " the", " previous", " section", ",", " so", " add", " this", " to", " the", " script", ":", "\n", "\n", "[", "Serial", "ize", "Field", "]", " Touch", "Button", " up", "Button", ";", " [", "Serial", "ize", "Field", "]", " Touch", "Button", " down", "Button", ";", " [", "Serial", "ize", "Field", "]", " Touch", "Button", " left", "Button", ";", " [", "Serial", "ize", "Field", "]", " Touch", "Button", " right", "Button", ";", "\n", "\n", "The", " [", "Serial", "ize", "Field", "]", " just", " means", " we", " can", " access", "/", "ass", "ign", " the", " values", " in", " the", " Inspector", " pane", ",", " which", " we", " will", " do", " shortly", ".", " But", " before", " we", " do", " that", ",", " replace", " the", " Current", "Input", " property", " with", " the", " following", " code", ":", "\n", "\n", "public", " Vector", "2", " Current", "Input", " {", " get", " {", " return", " new", " Vector", "2", "(", "Hor", "izontal", "Input", ",", " Vertical", "Input", ");", " }", " }", " float", " Hor", "izontal", "Input", " {", " get", " {", " if", "(", "left", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "He", "ld", " ||", " left", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "P", "ressed", "Down", ")", " {", " return", " -", "1", ";", " }", " else", " if", "(", "right", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "He", "ld", " ||", " right", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "P", "ressed", "Down", ")", " {", " return", " 1", ";", " }", " return", " Input", ".", "Get", "Ax", "is", "(\"", "Hor", "izontal", "\");", " }", " }", " float", " Vertical", "Input", " {", " get", " {", " if", " (", "up", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "He", "ld", " ||", " up", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "P", "ressed", "Down", ")", " {", " return", " 1", ";", " }", " else", " if", " (", "down", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "He", "ld", " ||", " down", "Button", ".", "Current", "State", " ==", " Button", "State", ".", "P", "ressed", "Down", ")", " {", " return", " -", "1", ";", " }", " return", " Input", ".", "Get", "Ax", "is", "(\"", "Vert", "ical", "\");", " }", " }", "\n", "\n", "That", " code", " is", " not", " as", " complicated", " as", " it", " looks", ".", " It", " just", " checks", " the", " touch", " button", " states", ",", " and", " if", " a", " button", " is", " touched", ",", " it", " uses", " that", " for", " input", ",", " otherwise", " it", " falls", " back", " to", " the", " standard", " axis", " input", " (", "key", "board", "/", "game", "pad", ").", " As", " you", " can", " see", ",", " while", " the", " code", " is", " all", " different", ",", " the", " player", " will", " still", " call", " the", " same", " Current", "Input", " property", ".", " This", " code", " can", " easily", " be", " extended", " further", " to", " accept", " mouse", " input", " or", " whatever", " else", " you", " might", " want", " (", "all", " without", " changing", " any", " code", " outside", " of", " the", " Input", "Manager", " script", ",", " of", " course", ").", "\n", "\n", "Now", ",", " with", " the", " Player", " Game", "Object", " selected", " in", " the", " Hier", "archy", ",", " drag", "-", "and", "-", "drop", " the", " buttons", " into", " the", " Inspector", " fields", ".", "\n", "\n", "Test", " It", "\n", "\n", "Now", " everything", " is", " in", " place", ".", " Run", " the", " scene", " and", " test", " the", " touch", " buttons", ".", " You", " can", " use", " the", " mouse", " to", " click", " the", " buttons", ".", " Deploy", " to", " your", " phone", " or", " tablet", " to", " test", " the", " touchscreen", " support", ".", "\n", "\n", "Next", " Steps", "\n", "\n", "Now", " that", " you", " have", " the", " basics", " in", " place", ",", " you", " can", " extend", " the", " Input", "Manager", " script", " quite", " easily", ".", " Just", " create", " new", " buttons", " for", " your", " needs", " \u2013", " jump", ",", " punch", ",", " etc", ".", " The", " touch", " button", " states", " correspond", " to", " the", " Input", " class", " (", "e", ".", "g", ".", " Input", ".", "Get", "Button", "Down", " corresponds", " to", " the", " P", "ressed", "Down", " state", ";", " Input", ".", "Get", "Button", " corresponds", " to", " the", " Held", " state", ").", " Make", " sure", " each", " action", " has", " a", " game", "pad", " button", ",", " a", " keyboard", " key", ",", " and", " a", " touch", " button", ".", "\n", "\n", "Try", " making", " your", " touch", " buttons", " semi", "-", "trans", "parent", ",", " and", " make", " them", " change", " their", " transparency", " when", " pressed", ".", "\n", "\n", "Lim", "itations", "\n", "\n", "The", " touch", " buttons", " currently", " only", " have", " two", " values", " \u2013", " pressed", " or", " not", " pressed", ",", " whereas", " the", " input", " axes", " can", " have", " any", " value", " between", " \u2013", "1", " and", " 1", ".", " If", " you", " want", " your", " player", " to", " accelerate", " more", " naturally", ",", " you", " may", " want", " to", " weight", " the", " values", " by", " the", " amount", " of", " time", " pressed", ".", " For", " example", ",", " you", " could", " time", " how", " long", " since", " the", " player", " started", " holding", " the", " button", " down", " and", " use", " this", " to", " calculate", " a", " value", " instead", " of", " just", " using", " \u2013", "1", " for", " left", " and", " 1", " for", " right", ".", " Then", " gradually", " move", " the", " value", " towards", " \u2013", "1", " or", " 1", " the", " longer", " the", " button", " is", " pressed", "."]