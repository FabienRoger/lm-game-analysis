["Techn", "iques", " for", " decom", "posing", " React", " components", "\n", "\n", "David", " Tang", " Bl", "ocked", " Un", "block", " Follow", " Following", " Jun", " 18", ",", " 2017", "\n", "\n", "Re", "act", " components", " have", " a", " lot", " of", " power", " and", " flexibility", ".", " With", " so", " many", " tools", " at", " your", " disposal", ",", " it", " is", " incredibly", " easy", " for", " components", " to", " grow", " over", " time", ",", " become", " bloated", " and", " do", " too", " much", ".", "\n", "\n", "As", " with", " any", " other", " kind", " of", " programming", ",", " ad", "her", "ing", " to", " the", " single", " responsibility", " principle", " not", " only", " makes", " your", " components", " easier", " to", " maintain", ",", " but", " also", " allows", " for", " greater", " reuse", ".", " However", ",", " identifying", " how", " to", " separate", " the", " responsibilities", " of", " a", " large", " React", " component", " is", " not", " always", " easy", ".", " Here", " are", " three", " techniques", " to", " get", " you", " started", ",", " from", " the", " simplest", " to", " most", " advanced", ".", "\n", "\n", "Split", " the", " render", "()", " method", "\n", "\n", "This", " is", " the", " most", " obvious", " technique", " to", " apply", ":", " when", " a", " component", " renders", " too", " many", " elements", ",", " splitting", " those", " elements", " into", " logical", " sub", "-", "comp", "onents", " is", " an", " easy", " way", " to", " simplify", ".", "\n", "\n", "A", " common", " and", " quick", " way", " to", " split", " the", " render", "()", " method", " is", " to", " create", " additional", " \ufffd", "\ufffd", "sub", "-", "render", "\ufffd", "\ufffd", " methods", " on", " the", " same", " class", ":", "\n", "\n", "While", " this", " can", " have", " its", " place", ",", " it", " is", " not", " a", " true", " decom", "position", " of", " the", " component", " itself", ".", " Any", " state", ",", " props", ",", " and", " class", " methods", " are", " still", " shared", ",", " making", " it", " difficult", " to", " identify", " which", " of", " those", " are", " used", " by", " each", " sub", "-", "render", ".", "\n", "\n", "To", " really", " reduce", " complexity", ",", " entirely", " new", " components", " should", " be", " created", " instead", ".", " For", " simpler", " sub", "-", "comp", "onents", ",", " functional", " components", " can", " be", " used", " to", " keep", " boiler", "plate", " to", " a", " minimum", ":", "\n", "\n", "There", " is", " another", " subtle", " but", " important", " difference", " achieved", " by", " splitting", " in", " this", " way", ".", " By", " replacing", " direct", " function", " calls", " with", " indirect", " component", " declarations", ",", " we", " produce", " smaller", " units", " for", " React", " to", " work", " with", ".", " This", " is", " because", " the", " return", " value", " of", " Panel", " \ufffd", "\ufffd", "s", " render", "()", " is", " a", " tree", " of", " element", " descript", "ors", " that", " only", " go", " as", " far", " as", " Panel", "Header", " and", " Panel", "Body", ",", " rather", " than", " all", " the", " elements", " beneath", " them", " too", ".", "\n", "\n", "There", " are", " practical", " implications", " for", " testing", ":", " a", " shallow", " render", " can", " be", " used", " to", " easily", " isolate", " those", " units", " for", " independent", " testing", ".", " As", " a", " bonus", ",", " when", " React", "\ufffd", "\ufffd", "s", " new", " Fiber", " architecture", " arrives", ",", " the", " smaller", " units", " will", " allow", " it", " to", " perform", " incremental", " rendering", " more", " effectively", ".", "\n", "\n", "Tem", "pl", "at", "ize", " components", " by", " passing", " React", " elements", " as", " props", "\n", "\n", "If", " a", " component", " is", " becoming", " too", " complex", " due", " to", " multiple", " variations", " or", " configurations", ",", " consider", " turning", " the", " component", " into", " a", " simple", " \ufffd", "\ufffd", "template", "\ufffd", "\ufffd", " component", " with", " one", " or", " more", " open", " \ufffd", "\ufffd", "sl", "ots", "\ufffd", "\ufffd", ".", " This", " allows", " a", " dedicated", " parent", " component", " to", " focus", " on", " configuration", " only", ".", "\n", "\n", "For", " example", ",", " a", " Comment", " component", " may", " have", " different", " actions", " and", " metadata", " displayed", " depending", " on", " whether", " you", " are", " the", " author", ",", " whether", " it", " was", " successfully", " saved", ",", " or", " what", " permissions", " you", " have", ".", " Rather", " than", " mix", " the", " structure", " of", " the", " Comment", " component", " \u2014", " where", " and", " how", " its", " content", " is", " rendered", " \u2014", " with", " logic", " to", " handle", " all", " the", " possible", " variations", ",", " these", " two", " concerns", " can", " be", " considered", " independently", ".", " Ut", "il", "ise", " the", " ability", " of", " React", " to", " pass", " elements", ",", " not", " just", " data", ",", " as", " props", ",", " to", " create", " a", " flexible", " template", " component", ".", "\n", "\n", "Another", " component", " can", " then", " have", " the", " sole", " responsibility", " of", " figuring", " out", " what", " to", " fill", " the", " metadata", " and", " actions", " slots", " with", ".", "\n", "\n", "Keep", " in", " mind", " that", " in", " JS", "X", ",", " anything", " that", "\ufffd", "\ufffd", "s", " between", " the", " opening", " and", " closing", " tags", " of", " a", " component", " is", " passed", " as", " the", " special", " children", " prop", ".", " This", " can", " be", " particularly", " expressive", " when", " used", " correctly", ".", " To", " be", " idi", "omatic", ",", " it", " should", " be", " reserved", " for", " the", " main", " content", " area", " of", " a", " component", ".", " In", " the", " comments", " example", ",", " this", " would", " likely", " be", " the", " text", " of", " the", " comment", " itself", ".", "\n", "\n", "Ext", "ract", " common", " aspects", " into", " higher", "-", "order", " components", "\n", "\n", "Comp", "onents", " can", " often", " become", " polluted", " by", " cross", "-", "cutting", " concerns", " that", " aren", "\ufffd", "\ufffd", "t", " directly", " related", " to", " its", " main", " purpose", ".", "\n", "\n", "Supp", "ose", " you", " wanted", " to", " send", " analytics", " data", " whenever", " a", " link", " in", " a", " Document", " component", " is", " clicked", ".", " To", " further", " complicate", " things", ",", " the", " data", " needs", " to", " include", " information", " about", " the", " document", " such", " as", " its", " ID", ".", " The", " obvious", " solution", " might", " be", " to", " add", " code", " to", " Document", " \ufffd", "\ufffd", "s", " component", "Did", "Mount", " and", " component", "Will", "Un", "mount", " lif", "ecycle", " methods", ",", " like", " so", ":", "\n", "\n", "There", " are", " a", " few", " problems", " with", " this", ":", "\n", "\n", "The", " component", " now", " has", " an", " extra", " concern", " that", " obsc", "ures", " its", " main", " purpose", ":", " displaying", " a", " document", ".", " If", " the", " component", " has", " additional", " logic", " in", " those", " lif", "ecycle", " methods", ",", " the", " analytics", " code", " also", " becomes", " obscured", ".", " The", " analytics", " code", " is", " not", " reusable", ".", " Ref", "act", "oring", " the", " component", " is", " made", " harder", ",", " as", " you", "\ufffd", "\ufffd", "d", " have", " to", " work", " around", " the", " analytics", " code", ".", "\n", "\n", "Dec", "om", "position", " of", " aspects", " such", " as", " this", " one", " can", " be", " done", " using", " higher", "-", "order", " components", " (", "H", "OC", "s", ").", " In", " short", ",", " these", " are", " functions", " that", " can", " be", " applied", " to", " any", " React", " component", ",", " wrapping", " that", " component", " with", " a", " desired", " behaviour", ".", "\n", "\n", "It", "\ufffd", "\ufffd", "s", " important", " to", " note", " that", " this", " function", " doesn", "\ufffd", "\ufffd", "t", " mut", "ate", " the", " component", " to", " add", " its", " behaviour", ",", " but", " returns", " a", " new", " wrapping", " component", ".", " It", " is", " this", " new", " wrapping", " component", " that", " is", " used", " in", " place", " of", " the", " original", " Document", " component", ".", "\n", "\n", "Notice", " that", " the", " specific", " detail", " of", " what", " data", " to", " send", " (", " document", "Id", " )", " can", " be", " extracted", " as", " configuration", " for", " the", " H", "OC", ".", " This", " keeps", " the", " domain", " knowledge", " of", " documents", " with", " the", " Document", " component", ",", " and", " the", " generic", " ability", " to", " listen", " to", " clicks", " in", " the", " with", "Link", "Analy", "tics", " H", "OC", ".", "\n", "\n", "Higher", "-", "order", " components", " show", " off", " the", " powerful", " compos", "itional", " nature", " of", " React", ".", " The", " simple", " example", " here", " demonstrates", " how", " seemingly", " tightly", "-", "integ", "rated", " code", " can", " be", " extracted", " into", " modules", " with", " single", " responsibilities", ".", "\n", "\n", "H", "OC", "s", " are", " commonly", " employed", " in", " React", " libraries", " such", " as", " react", "-", "red", "ux", ",", " styled", "-", "comp", "onents", ",", " and", " react", "-", "int", "l", ".", " After", " all", ",", " these", " libraries", " are", " all", " about", " solving", " generic", " aspects", " of", " any", " React", " application", ".", " Another", " library", ",", " recomp", "ose", ",", " goes", " a", " step", " further", " by", " using", " H", "OC", "s", " for", " everything", " from", " component", " state", " to", " lif", "ecycle", " methods", ".", "\n", "\n", "Cl", "osing", " thoughts", "\n", "\n", "Re", "act", " components", " are", " highly", " compos", "able", " by", " design", ".", " Use", " this", " to", " your", " advantage", " by", " readily", " decom", "posing", " and", " composing", " them", ".", "\n", "\n", "Don", "\ufffd", "\ufffd", "t", " shy", " away", " from", " creating", " small", ",", " focused", " components", ".", " It", " may", " feel", " awkward", " at", " first", ",", " but", " the", " result", " will", " be", " code", " that", " is", " more", " robust", " and", " reusable", "."]