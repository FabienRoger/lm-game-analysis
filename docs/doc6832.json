["After", " a", " surprisingly", " positive", " reception", " to", " my", " post", " Writing", " Id", "i", "omatic", " Python", " I", " decided", " to", " write", " an", " e", "-", "book", " (", "if", " you", "'d", " like", " updates", " on", " the", " book", "'s", " progress", ",", " a", " sign", " up", " widget", " is", " available", " below", ").", " Having", " never", " done", " so", " before", ",", " I", " had", " no", " prior", " experience", " to", " guide", " me", " in", " how", " one", " should", " go", " about", " doing", " this", ".", " While", " I", " could", " have", " spent", " a", " week", " researching", " the", " topic", ",", " I", " decided", " writing", " was", " actually", " more", " important", " and", " I", " could", " figure", " the", " rest", " out", " as", " I", " go", ".", " Throughout", " this", " process", ",", " I", "'ve", " settled", " on", " an", " method", " for", " writing", " and", " testing", " the", " book", ",", " which", " is", " written", " entirely", " in", " Python", " (", "I", "'ll", " explain", " below", ").", " I", "'ve", " noticed", " a", " number", " of", " interesting", " parallels", " to", " general", " project", " development", " in", " Python", ",", " hence", " this", " post", ".", "\n", "\n", "Inter", "me", "zzo", ":", " Get", " updates", " on", " the", " progress", " of", " '", "Writing", " Id", "i", "omatic", " Python", "'", "\n", "\n", "If", " you", "'d", " like", " to", " receive", " updates", " on", " the", " progress", " of", " '", "Writing", " Id", "i", "omatic", " Python", "',", " sign", " up", " with", " your", " email", " address", " using", " the", " widget", " below", ".", " No", " spam", ".", " Promise", ".", "\n", "\n", "A", " book", " you", " can", " run", " from", " the", " command", " line", "...", "\n", "\n", "The", " book", " follows", " the", " format", " of", " my", " original", " blog", " post", ".", " It", " is", " divided", " into", " sections", " loosely", " based", " on", " the", " situation", " in", " which", " you", " would", " use", " the", " id", "iom", " (", "e", ".", "g", ".", " '", "Man", "aging", " Resources", "',", " '", "Control", " Struct", "ures", "',", " etc", ".).", " Each", " of", " these", " sections", " is", " a", " Python", " module", " (", "possibly", " containing", " other", " modules", ").", " The", " top", " level", " directory", " looks", " like", " this", ":", "\n", "\n", "j", "eff", ":", "~", "/", "code", "/", "idi", "om", "/", "|", "master", " ->", " l", " total", " 8", " dr", "wx", "r", "-", "x", "r", "-", "x", " 9", " je", "ff", " users", " 1024", " Oct", " 17", " 12", ":", "47", " working", "_", "with", "_", "data", " dr", "wx", "r", "-", "x", "r", "-", "x", " 3", " je", "ff", " users", " 1024", " Oct", " 17", " 14", ":", "03", " script", "_", "writing", " dr", "wx", "r", "-", "x", "r", "-", "x", " 3", " je", "ff", " users", " 1024", " Oct", " 17", " 14", ":", "03", " recipes", " dr", "wx", "r", "-", "x", "r", "-", "x", " 3", " je", "ff", " users", " 1024", " Oct", " 17", " 17", ":", "40", " managing", "_", "resources", " dr", "wx", "r", "-", "x", "r", "-", "x", " 3", " je", "ff", " users", " 1024", " Oct", " 17", " 17", ":", "42", " functions", " dr", "wx", "r", "-", "x", "r", "-", "x", " 5", " je", "ff", " users", " 1024", " Oct", " 17", " 17", ":", "44", " control", "_", "struct", "ures", " dr", "wx", "r", "-", "x", "r", "-", "x", " 3", " je", "ff", " users", " 1024", " Oct", " 17", " 17", ":", "48", " formatting", " -", "rw", "-", "r", "--", "r", "--", " 1", " je", "ff", " users", " 129", " Oct", " 17", " 17", ":", "48", " Make", "file", "\n", "\n", "Within", " each", " module", " are", " Python", " individual", " idi", "oms", ",", " each", " written", " as", " a", " Python", " script", ".", " For", " example", ",", " here", " is", " the", " complete", " file", " representing", " the", " id", "iom", " \"", "Avoid", " repeatedly", " checking", " a", " variable", "'s", " value", " in", " a", " compound", " if", " statement", "\":", "\n", "\n", "\"\"\"", " #", "###", "Avoid", " repeatedly", " checking", " a", " variable", "'s", " value", " in", " a", " compound", " if", " statement", " When", " one", " wants", " to", " check", " against", " a", " number", " of", " values", ",", " repeatedly", " listing", " the", " variable", " whose", " value", " is", " being", " checked", " is", " unnecessarily", " verb", "ose", ".", " Using", " a", " temporary", " collection", " makes", " the", " intention", " clear", ".", " \"\"\"", " from", " nose", ".", "tools", ".", "t", "riv", "ial", " import", " assert", "_", "true", " name", " =", " '", "Tom", "'", " def", " run", "_", "assert", "s", " (", " local", "_", "dict", ",", " global", "_", "dict", " ):", " assert", "_", "true", " (", " local", "_", "dict", ".", " get", " (", " '", "is", "_", "generic", "_", "name", "'", " ))", " def", " test", "_", "idi", "omatic", " (", "):", " is", "_", "generic", "_", "name", " =", " False", " if", " name", " in", " (", " '", "Tom", "'", ",", " '", "Dick", "'", ",", " '", "Harry", "'", " ):", " is", "_", "generic", "_", "name", " =", " True", " run", "_", "assert", "s", " (", " locals", " (),", " glob", "als", " ())", " def", " test", "_", "harm", "ful", " (", "):", " is", "_", "generic", "_", "name", " =", " False", " name", " =", " '", "Tom", "'", " if", " name", " ==", " '", "Tom", "'", " or", " name", " ==", " '", "Dick", "'", " or", " name", " ==", " '", "Harry", "'", " :", " is", "_", "generic", "_", "name", " =", " True", " run", "_", "assert", "s", " (", " locals", " (),", " glob", "als", " ())", "\n", "\n", "Obviously", ",", " simply", " conc", "aten", "ating", " these", " scripts", " and", " calling", " it", " a", " book", " would", " make", " for", " a", " very", " un", "readable", " \"", "book", "\".", " Instead", ",", " the", " book", " proper", " is", " generated", " using", " a", " few", " simple", " tools", " (", "described", " below", ").", " For", " now", ",", " let", "'s", " focus", " on", " the", " structure", " of", " the", " id", "iom", ".", "\n", "\n", "As", " you", " can", " see", ",", " the", " id", "iom", "'s", " text", " is", " stored", " in", " a", " doc", "string", ".", " This", " keeps", " the", " text", " and", " code", " together", ",", " useful", " when", " making", " changes", " where", " both", " will", " need", " to", " be", " updated", ".", " There", "'s", " some", " Mark", "down", " in", " there", ",", " too", ".", " Just", " like", " on", " this", " blog", ",", " I", "'m", " using", " Mark", "down", " to", " structure", " the", " text", ",", " mostly", " because", " I", "'m", " a", ")", " comfortable", " with", " it", " and", " b", ")", " I", " know", " it", " can", " be", " translated", " to", " a", " variety", " of", " formats", ".", "\n", "\n", "This", " book", " has", " a", " build", " process", "...", "\n", "\n", "After", " the", " initial", " text", ",", " you", "'ll", " notice", " some", " imports", " from", " the", " nose", " package", ".", " Nose", " is", " a", " package", " that", " extends", " un", "itt", "est", " while", " at", " the", " same", " adding", " a", " number", " of", " other", " useful", " features", " (", "including", " support", " for", " doct", "ests", ",", " capturing", " std", "out", " during", " tests", ",", " test", " decor", "ators", ",", " and", " about", " a", " dozen", " other", " things", ").", " Using", " nose", ",", " the", " file", " transforms", " from", " an", " odd", " way", " to", " store", " sections", " of", " a", " book", " to", " a", " fully", " test", "able", " artifact", ".", " Until", " I", " hit", " upon", " this", " structure", ",", " checking", " the", " code", " for", " each", " id", "iom", " worked", " as", " intended", " (", "and", " that", " the", " '", "H", "arm", "ful", "'", " and", " '", "Id", "i", "omatic", "'", " code", " produced", " the", " same", " value", ")", " was", " a", " manual", ",", " time", "-", "intensive", " task", ".", " Now", ",", " it", " takes", " 5", " key", " presses", " to", " determine", " if", " all", " of", " the", " code", " in", " all", " of", " the", " idi", "oms", " are", " correct", ".", "\n", "\n", "You", " may", " have", " noticed", " the", " function", " run", "_", "assert", "s", " in", " the", " code", " above", ",", " taking", " two", " diction", "aries", " as", " arguments", ".", " It", "'s", " purpose", " is", " to", " ensure", " that", " test", "_", "idi", "omatic", " and", " test", "_", "harm", "ful", " not", " only", " work", " as", " intended", ",", " but", " that", " they", " test", " the", " same", " thing", ".", " It", " is", " called", " with", " the", " locals", " and", " glob", "als", " of", " the", " test", " function", ",", " which", " represent", " the", " current", " scope", "'s", " local", " and", " global", " variables", " respectively", ".", " This", " gives", " me", " a", " consistent", " interface", " to", " call", " the", " run", "_", "assert", "s", " function", ".", " Each", " id", "iom", " contains", " a", " run", "_", "assert", "s", " that", " differ", " only", " in", " the", " values", " they", " check", ".", " If", " I", " had", " simply", " listed", " the", " asserts", " at", " the", " end", " of", " each", " function", ",", " it", " wouldn", "'t", " take", " long", " before", " I", " accidentally", " updated", " one", " set", " and", " not", " the", " other", ".", " This", " way", ",", " I", " can", " be", " sure", " both", " functions", " work", " and", " produce", " the", " same", " results", ".", "\n", "\n", "When", " I", " actually", " want", " to", " run", " the", " tests", ",", " I", " simply", " type", " make", " to", " invoke", " my", " Make", "file", ".", " Its", " contents", " are", " straightforward", ":", "\n", "\n", "all", " :", " P", "Y", "TH", "ON", "WARNING", "S", " =", " all", " nos", "et", "ests", "-", "3", ".", "4", " -", "s", " --", "with", "-", "do", "ct", "est", " --", "with", "-", "co", "verage", " --", "cover", "-", "er", "ase", " --", "all", "-", "modules", " --", "do", "ct", "est", "-", "options", " =", " +", "ELL", "IPS", "IS", "\n", "\n", "There", " are", " some", " nose", "-", "specific", " options", " there", ",", " as", " well", " as", " setting", " the", " environment", " variable", " P", "Y", "TH", "ON", "WARNING", "S", " to", " \"", "all", "\",", " turning", " on", " warnings", " which", " alert", " about", " un", "closed", " files", " and", " the", " use", " of", " deprecated", " functions", ",", " among", " other", " things", ".", " The", " output", " of", " make", " gives", " me", " a", " good", " deal", " of", " information", ":", "\n", "\n", "...", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "d", "iction", "aries", " 0", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "d", "iction", "aries", ".", "dict", "_", "get", "_", "default", " 11", " 1", " 91", "%", " 19", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "lists", " 0", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "lists", ".", "list", "_", "com", "pre", "hens", "ions", " 14", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "lists", ".", "un", "packing", "_", "rest", " 8", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "strings", " 0", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "strings", ".", "chain", "_", "string", "_", "fun", "ctions", " 10", " 5", " 50", "%", " 21", "-", "25", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "strings", ".", "string", "_", "join", " 11", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "tu", "ples", " 0", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "tu", "ples", ".", "t", "uple", "_", "unders", "core", " 13", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "tu", "ples", ".", "tu", "ples", " 10", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "vari", "ables", " 0", " 0", " 100", "%", " id", "iom", ".", "working", "_", "with", "_", "data", ".", "vari", "ables", ".", "tem", "porary", "_", "vari", "ables", " 12", " 0", " 100", "%", " ----------------------------------------------------------------", "--------------------------------", "---------------", " TOTAL", " 317", " 16", " 95", "%", " ----------------------------------------------------------------", "------", " Ran", " 70", " tests", " in", " 0", ".", "306", "s", " OK", "\n", "\n", "Here", " I", " can", " see", " both", " the", " status", " of", " my", " tests", " as", " well", " as", " the", " code", " coverage", " for", " each", " id", "iom", " (", "look", "s", " like", " I", " have", " a", " bit", " of", " work", " to", " do", "...", ").", "\n", "\n", "This", " post", " has", " already", " become", " quite", " long", ",", " so", " I", "'ll", " break", " here", " for", " now", ".", " Tomorrow", ",", " I", "'ll", " show", " how", " I", " process", " the", " id", "iom", " Python", " files", " to", " produce", " the", " actual", " book", " in", " a", " variety", " of", " formats", "."]