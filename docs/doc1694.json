["I", " love", " Rust", ".", " There", ",", " I", " said", " it", ".", " We", "\ufffd", "\ufffd", "re", " going", " to", " be", " seeing", " more", " of", " each", " other", " \u2013", " though", " through", " no", " fault", " of", " her", " own", ",", " I", " doubt", " we", "\ufffd", "\ufffd", "ll", " ever", " be", " an", " exclusive", " item", ".", "\n", "\n", "The", " language", " is", " still", " evolving", " at", " a", " rapid", " (", "but", " slowing", ")", " pace", ",", " so", " it", " can", " be", " a", " little", " hard", " to", " figure", " out", " how", " to", " do", " things", " sometimes", ".", " Because", " of", " this", ",", " I", " think", " the", " best", " way", " to", " learn", " the", " Rust", " language", " is", " to", " literally", " go", " to", " the", " source", ".", "\n", "\n", "On", " that", " topic", ",", " now", " is", " a", " brilliant", " time", " to", " get", " involved", " because", " everything", " mostly", " kinda", "-", "sort", "a", " works", ",", " but", " there", "\ufffd", "\ufffd", "s", " still", " so", " much", " that", " you", " can", " do", " to", " help", " out", ".", "\n", "\n", "So", " yeah", ",", " get", " hacking", ".", "\n", "\n", "Anyway", ",", " as", " I", " figure", " things", " out", ",", " I", " like", " to", " write", " little", " tutorials", " like", " this", " one", " \u2013", " largely", " for", " myself", ",", " because", " I", " have", " a", " terrible", " memory", " &", " an", " attention", " span", " to", " match", ".", " :)", " This", " time", " around", ",", " I", "\ufffd", "\ufffd", "m", " going", " to", " explore", " traits", ",", " struct", "s", " and", " impl", "s", " in", " Rust", ".", " It", " took", " me", " a", " while", " to", " work", " out", " how", " these", " three", " features", " related", " to", " one", " another", " (", "mostly", " because", " I", " was", " too", " lazy", " to", " R", "TF", "M", ")", " &", " figured", " others", " might", " benefit", " from", " a", " summary", ".", "\n", "\n", "If", " you", "\ufffd", "\ufffd", "re", " wondering", " what", " all", " the", " ~", " sig", "ils", " &", " am", "pers", "ands", " mean", " in", " the", " code", " samples", " below", ",", " you", " might", " want", " to", " take", " a", " det", "our", " &", " read", " my", " article", " on", " managed", " &", " owned", " boxes", ".", "\n", "\n", "Com", "pos", "ite", " types", " with", " struct", " s", "\n", "\n", "At", " their", " simplest", ",", " struct", "s", " in", " Rust", " are", " much", " like", " struct", "s", " in", " languages", " like", " C", " &", " C", "++", " \u2013", " composite", "/", "record", " types", " consisting", " of", " zero", " or", " more", " fields", ":", "\n", "\n", "struct", " My", "Struct", " {", " uint", "_", "field", ":", " uint", " }", "\n", "\n", "It", "\ufffd", "\ufffd", "s", " possible", " to", " also", " declare", " unit", "-", "like", " struct", "s", " by", " o", "mitting", " the", " body", " of", " your", " struct", ":", "\n", "\n", "struct", " My", "Unit", "Like", "Struct", ";", "\n", "\n", "Struct", "s", " may", " also", " be", " exported", " from", " modules", " using", " the", " pub", " keyword", ":", "\n", "\n", "pub", " struct", " My", "Struct", " {", " //", "...", " }", "\n", "\n", "You", " can", " then", " initialize", " \ufffd", "\ufffd", "inst", "ances", "\ufffd", "\ufffd", " of", " a", " struct", " like", " so", ":", "\n", "\n", "let", " x", " =", " My", "Struct", "{", "field", "1", ":", " value", "1", ",", " field", "2", ":", " value", "2", "}", "\n", "\n", "Unit", "-", "like", " struct", "s", " are", " essentially", " sing", "let", "ons", " &", " are", " thus", " used", " without", " the", " curly", " braces", ":", "\n", "\n", "let", " x", " =", " My", "Unit", "Like", "Struct", "\n", "\n", "Adding", " methods", " to", " your", " struct", "s", " with", " impl", "\n", "\n", "So", " now", " we", " know", " how", " to", " use", " struct", "s", ",", " but", " as", " it", " stands", " they", "\ufffd", "\ufffd", "re", " kinda", " boring", ".", " They", " can", "\ufffd", "\ufffd", "t", " really", " do", " anything", ".", " We", " can", " define", " functions", " to", " operate", " on", " our", " struct", "s", ":", "\n", "\n", "fn", " get", "_", "x", "(", "my", "struct", ":", " &", "My", "Struct", ")", " ->", " uint", " {", " my", "struct", ".", "x", " }", "\n", "\n", "(", "Note", " that", ",", " like", " Ruby", ",", " Rust", " will", " return", " the", " last", " expression", " evaluated", " by", " a", " function", " \u2013", " so", " long", " as", " it", "\ufffd", "\ufffd", "s", " not", " followed", " by", " a", " semi", "-", "col", "on", " \u2013", " so", " we", " don", "\ufffd", "\ufffd", "t", " need", " a", " return", " here", ".)", "\n", "\n", "Now", " we", " can", " call", " get", "_", "x", ",", " passing", " a", " borrowed", " pointer", " to", " an", " instance", " of", " our", " struct", ":", "\n", "\n", "let", " my", "struct", " =", " My", "Struct", "{", "x", ":", " 20", "};", " get", "_", "x", "(&", "my", "struct", ")", " //", " returns", " 20", "\n", "\n", "While", " this", " is", " perfectly", " acceptable", ",", " it", "\ufffd", "\ufffd", "s", " more", " typical", " to", " define", " methods", " on", " a", " struct", " using", " an", " implementation", ":", "\n", "\n", "pub", " struct", " My", "Struct", " {", " x", ":", " uint", " }", " //", " //", " implementation", " for", " My", "Struct", " //", " impl", " My", "Struct", " {", " pub", " fn", " get", "_", "x", "(&", "self", ")", " ->", " uint", " {", " self", ".", "x", " }", " }", "\n", "\n", "Note", " that", " because", " `", "impl", "`", "s", " are", " associated", " with", " a", " type", " we", " don", "'t", " need", " to", " use", " the", " `", "pub", "`", " keyword", " here", " to", " export", " them", " from", " a", " module", ":", " if", " the", " underlying", " type", " is", " exported", ",", " so", " too", " will", " the", " impl", "s", " associated", " with", " that", " type", ".", "\n", "\n", "(", "UPDATE", ":", " I", " got", " this", " wrong", ".", " If", " you", " want", " to", " export", " your", " impl", "s", ",", " pub", " is", " necessary", " unless", " you", "\ufffd", "\ufffd", "re", " implementing", " a", " trait", " \u2013", " see", " the", " \ufffd", "\ufffd", "impl", " \u2026", " for", " \u2026", "\ufffd", "\ufffd", " syntax", " below", ".)", "\n", "\n", "Now", " we", " can", " call", " methods", " on", " instances", " of", " our", " Foo", " struct", ":", "\n", "\n", "let", " my", "struct", " =", " My", "Struct", "{", "x", ":", " 50", "};", " my", "struct", ".", "get", "_", "x", "()", " //", " returns", " 50", "\n", "\n", "Note", " that", " you", " can", " only", " define", " impl", "s", " for", " types", " declared", " in", " the", " same", " crate", ".", "\n", "\n", "General", "izing", " struct", " impl", "s", " with", " trait", " s", "\n", "\n", "Tra", "its", " can", " be", " used", " in", " a", " manner", " similar", " to", " the", " way", " interfaces", " are", " used", " in", " a", " language", " like", " Java", ".", "\n", "\n", "For", " example", ",", " say", " we", " have", " two", " struct", "s", ":", "\n", "\n", "pub", " struct", " Person", " {", " name", ":", " ~", "str", " }", " pub", " struct", " Dog", " {", " name", ":", " ~", "str", " }", "\n", "\n", "And", " we", " decide", " we", " want", " to", " display", " the", " name", " of", " a", " Person", " &", " a", " Dog", ".", " We", " could", " write", " two", " separate", " functions", ":", "\n", "\n", "pub", " fn", " show", "_", "person", "_", "name", "(", "person", ":", " &", "Person", ")", " {", " println", "(", "person", ".", "name", ")", " }", " pub", " fn", " show", "_", "dog", "_", "name", "(", "dog", ":", " &", "Dog", ")", " {", " println", "(", "dog", ".", "name", ")", " }", "\n", "\n", "But", " then", " we", " need", " to", " know", " what", " type", " of", " struct", " we", "\ufffd", "\ufffd", "re", " dealing", " with", " \u2013", " a", " Person", " or", " a", " Dog", " \u2013", " &", " then", " figure", " out", " which", " function", " we", " should", " call", " to", " display", " its", " name", ".", " Adding", " a", " name", " method", " to", " your", " struct", " using", " an", " impl", " won", "\ufffd", "\ufffd", "t", " help", " you", " either", ",", " because", " Person", " s", " and", " Dog", " s", " aren", "\ufffd", "\ufffd", "t", " really", " related", " in", " our", " program", ".", "\n", "\n", "So", " instead", ",", " we", " can", " define", " a", " trait", ":", "\n", "\n", "tra", "it", " Has", "Name", " {", " pub", " fn", " name", "(&", "self", ")", " ->", " ~", "str", ";", " }", "\n", "\n", "(", "Note", " that", " like", " struct", "s", ",", " traits", " can", " be", " exported", " using", " the", " pub", " keyword", ").", "\n", "\n", "And", " instead", " of", " show", "_", "person", "_", "name", " &", " show", "_", "dog", "_", "name", ",", " we", " can", " define", " a", " function", " that", " accepts", " (", "a", " borrowed", " pointer", " to", ")", " a", " Has", "Name", ":", "\n", "\n", "pub", " fn", " show", "_", "name", "(", "has", "_", "name", ":", " &", "Has", "Name", ")", " {", " println", "(", "has", "_", "name", ".", "name", "())", " }", "\n", "\n", "Now", " we", " can", " implement", " the", " Has", "Name", " interface", " for", " the", " Person", " and", " Dog", " struct", "s", ":", "\n", "\n", "impl", " Has", "Name", " for", " Person", " {", " pub", " fn", " name", "(&", "self", ")", " ->", " ~", "str", " {", " copy", " self", ".", "name", " }", " }", " impl", " Has", "Name", " for", " Dog", " {", " pub", " fn", " name", "(&", "self", ")", " ->", " ~", "str", " {", " copy", " self", ".", "name", " }", " }", "\n", "\n", "(", "Again", ",", " note", " that", " we", " don", "\ufffd", "\ufffd", "t", " need", " to", " explicitly", " export", " our", " impl", " s", ".)", "\n", "\n", "Bonus", ":", " static", " methods", " on", " trait", " s", "\n", "\n", "Lastly", ",", " it", "\ufffd", "\ufffd", "s", " interesting", " to", " note", " that", " traits", " can", " be", " used", " to", " general", "ize", " static", " methods", " too", ".", " For", " example", ":", "\n", "\n", "pub", " trait", " Square", " {", " pub", " fn", " square", "(", "x", ":", " Self", ")", " ->", " Self", ";", " }", "\n", "\n", "Here", " Self", " refers", " to", " the", " real", ",", " underlying", " type", " of", " Square", ".", " Using", " this", " trait", ",", " we", " can", " provide", " implementations", " for", " a", " number", " of", " different", " types", ":", "\n", "\n", "impl", " Square", " for", " int", " {", " pub", " fn", " square", "(", "x", ":", " int", ")", " ->", " int", " {", " x", " *", " x", " }", " }", " impl", " Square", " for", " float", " {", " pub", " fn", " square", "(", "x", ":", " float", ")", " ->", " float", " {", " x", " *", " x", " }", " }", "\n", "\n", "See", " how", " we", "\ufffd", "\ufffd", "ve", " replaced", " references", " to", " Self", " with", " concrete", " types", " int", " and", " float", "?", "\n", "\n", "So", " now", " we", " can", " call", " Square", "::", "square", "(", "...)", " passing", " either", " an", " int", " or", " a", " float", " &", " Rust", " will", " know", " how", " to", " perform", " the", " appropriate", " operation", " for", " us", ":", "\n", "\n", "Square", "::", "square", "(", "10", ")", " //", " ->", " 100", " Square", "::", "square", "(", "10", ".", "0", "f", ")", " //", " ->", " 100", ".", "0", "f", "\n", "\n", "(", "NOTE", " as", " of", " Rust", " 0", ".", "6", ",", " static", " methods", " on", " traits", " were", " not", " being", " properly", " exported", " from", " modules", ".", " Fix", "ing", " this", " was", " actually", " my", " first", " \ufffd", "\ufffd", "real", "\ufffd", "\ufffd", " patch", "/", "bug", "fix", " for", " the", " project", ":", " you", " can", " see", " it", " working", " using", " the", " latest", " code", " on", " the", " incoming", " branch", ").", "\n", "\n", "Until", " next", " time", "\u2026", "\n", "\n", "Congratulations", " on", " making", " it", " this", " far", "!", " Rust", " is", " totally", " worth", " the", " effort", " to", " learn", ".", " I", "\ufffd", "\ufffd", "m", " very", " excited", " about", " the", " direction", " it", "\ufffd", "\ufffd", "s", " headed", ".", "\n", "\n", "Oh", ",", " and", " if", " you", " like", " this", " sort", " of", " nerd", "iness", " and", "/", "or", " would", " like", " to", " correct", " the", " error", " of", " my", " ways", ",", " you", " should", " totally", " ping", " me", " on", " Twitter", "."]